{"ts":1366892818573,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1366892963330,"patch":[[{"diffs":[[1,"var Animation = function(canvasId){\r\n    this.canvas = document.getElementById(canvasId);\r\n    this.context = this.canvas.getContext(\"2d\");\r\n    this.t = 0;\r\n    this.timeInterval = 0;\r\n    this.startTime = 0;\r\n    this.lastTime = 0;\r\n    this.frame = 0;\r\n    this.animating = false;\r\n    \r\n    // provided by Paul Irish\r\n    window.requestAnimFrame = (function(callback){\r\n        return window.requestAnimationFrame ||\r\n        window.webkitRequestAnimationFrame ||\r\n        window.mozRequestAnimationFrame ||\r\n        window.oRequestAnimationFrame ||\r\n        window.msRequestAnimationFrame ||\r\n        function(callback){\r\n            window.setTimeout(callback, 1000 / 60);\r\n        };\r\n    })();\r\n};\r\n\r\nAnimation.prototype.getContext = function(){\r\n    return this.context;\r\n};\r\n\r\nAnimation.prototype.getCanvas = function(){\r\n    return this.canvas;\r\n};\r\n\r\nAnimation.prototype.clear = function(){\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n};\r\n\r\nAnimation.prototype.setStage = function(func){\r\n    this.stage = func;\r\n};\r\n\r\nAnimation.prototype.isAnimating = function(){\r\n    return this.animating;\r\n};\r\n\r\nAnimation.prototype.getFrame = function(){\r\n    return this.frame;\r\n};\r\n\r\nAnimation.prototype.start = function(){\r\n    this.animating = true; \r\n    var date = new Date();\r\n    this.startTime = date.getTime();\r\n    this.lastTime = this.startTime;\r\n    \r\n    if (this.stage !== undefined) {\r\n        this.stage();\r\n    }\r\n    \r\n    this.animationLoop();\r\n};\r\n\r\nAnimation.prototype.stop = function(){\r\n    this.animating = false;\r\n};\r\n\r\nAnimation.prototype.getTimeInterval = function(){\r\n    return this.timeInterval;\r\n};\r\n\r\nAnimation.prototype.getTime = function(){\r\n    return this.t;\r\n};\r\n\r\nAnimation.prototype.getFps = function(){\r\n    return this.timeInterval > 0 ? 1000 / this.timeInterval : 0;\r\n};\r\n\r\nAnimation.prototype.animationLoop = function(){\r\n    var that = this;\r\n    \r\n    this.frame++;\r\n    var date = new Date();\r\n    var thisTime = date.getTime();\r\n    this.timeInterval = thisTime - this.lastTime;\r\n    this.t += this.timeInterval;\r\n    this.lastTime = thisTime;\r\n    \r\n    if (this.stage !== undefined) {\r\n        this.stage();\r\n    }\r\n    \r\n    if (this.animating) {\r\n        requestAnimFrame(function(){\r\n            that.animationLoop();\r\n        });\r\n    }\r\n};"]],"start1":0,"start2":0,"length1":0,"length2":2325}]],"length":2325,"saved":false}
