{"ts":1366988478484,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1366988885956,"patch":[[{"diffs":[[1,"var SCREEN_WIDTH = window.innerWidth,\n  SCREEN_HEIGHT = window.innerHeight,\n  mousePos = {\n    x: 400,\n    y: 300\n  },\n\n  // create canvas\n  canvas = document.getElementById('ctx'),\n  context = canvas.getContext('2d'),\n  particles = [],\n  MAX_PARTICLES = 300;\n\n// init\n$(document).ready(function() {\n  // document.body.appendChild(canvas);\n  // canvas.width = SCREEN_WIDTH;\n  // canvas.height = SCREEN_HEIGHT;\n  setInterval(loop, 1000 / 30);\n});\n\n$(document).mousemove(function(e) {\n  e.preventDefault();\n  mousePos = {\n    x: e.clientX,\n    y: e.clientY\n  };\n});\n\nvar Effects = Effects || {};\n\nEffects.Particles = function() {\n  function loop() {\n    // update screen size\n    if (SCREEN_WIDTH != window.innerWidth) {\n      canvas.width = SCREEN_WIDTH = window.innerWidth;\n    }\n    if (SCREEN_HEIGHT != window.innerHeight) {\n      canvas.height = SCREEN_HEIGHT = window.innerHeight;\n    }\n\n    // clear canvas\n    context.fillStyle = \"rgba(0, 0, 0, 0.1)\";\n    context.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);\n\n    makeParticle(5);\n\n    var existingParticles = [];\n\n    for (var i = 0; i < particles.length; i++) {\n      particles[i].update();\n\n      // render and save particles that can be rendered\n      if (particles[i].exists()) {\n        particles[i].render(context);\n        existingParticles.push(particles[i]);\n      }\n    }\n\n    // update array with existing particles - old particles should be garbage collected\n    particles = existingParticles;\n\n    while (particles.length > MAX_PARTICLES) {\n      particles.shift();\n    }\n  }\n\n  function makeParticle(count) {\n    for (var i = 0; i < count; i++) {\n      var particle = new Particle(mousePos);\n      var angle = Math.random() * Math.PI * 2;\n      var speed = Math.random() * 10 + 2;\n\n      particle.vel.x = Math.cos(angle) * speed;\n      particle.vel.y = Math.sin(angle) * speed;\n\n      particle.size = 10;\n\n      // particle.fade = 0.02;\n      particle.gravity = 0.2;\n      particle.resistance = 0.92;\n      particle.shrink = 0.92;\n\n      particle.flick = true;\n\n      particles.push(particle);\n    }\n  }\n\n  function Particle(pos) {\n    this.pos = {\n      x: pos.x,\n      y: pos.y\n    };\n    this.vel = {\n      x: 0,\n      y: 0\n    };\n    this.shrink = .97;\n    this.size = 2;\n\n    this.resistance = 1;\n    this.gravity = 0;\n\n    this.flick = false;\n\n    this.alpha = 1;\n    this.fade = 0;\n    this.color = Math.floor(Math.random() * 360 / 10) * 10;\n  }\n\n  Particle.prototype.update = function() {\n    // apply resistance\n    this.vel.x *= this.resistance;\n    this.vel.y *= this.resistance;\n\n    // gravity down\n    this.vel.y += this.gravity;\n\n    // update position based on speed\n    this.pos.x += this.vel.x;\n    this.pos.y += this.vel.y;\n\n    // shrink\n    this.size *= this.shrink;\n\n    // fade out\n    this.alpha -= this.fade;\n  }\n\n  Particle.prototype.render = function(c) {\n    if (!this.exists()) {\n      return;\n    }\n\n    c.save();\n\n    c.globalCompositeOperation = 'lighter';\n\n    var x = this.pos.x,\n      y = this.pos.y,\n      r = this.size / 2;\n\n    var gradient = c.createRadialGradient(x, y, 0.1, x, y, r);\n    gradient.addColorStop(0.1, \"rgba(255,255,255,\" + this.alpha + \")\");\n    gradient.addColorStop(0.8, \"hsla(\" + this.color + \", 100%, 50%, \" + this.alpha + \")\");\n    gradient.addColorStop(1, \"hsla(\" + this.color + \", 100%, 50%, 0.1)\");\n\n\n    c.fillStyle = gradient;\n\n    c.beginPath();\n    c.arc(this.pos.x, this.pos.y, this.flick ? Math.random() * this.size : this.size, 0, Math.PI * 2, true);\n    c.closePath();\n    c.fill();\n\n    c.restore();\n  }\n\n  Particle.prototype.exists = function() {\n    return this.alpha >= 0.01 && this.size >= 1;\n  }\n  \n  return{\n    loop: loop\n  }\n}"]],"start1":0,"start2":0,"length1":0,"length2":3677}]],"length":3677,"saved":false}
{"ts":1366988973367,"patch":[[{"diffs":[[1,"\n\nvar Effects = Effects || {};\n\nEffects.Particles = function(context) {\n  \n  "],[0,"var SCREEN_W"]],"start1":0,"start2":0,"length1":12,"length2":89},{"diffs":[[0,"idth,\n  "],[1," "],[1," "],[0,"SCREEN_H"]],"start1":109,"start2":109,"length1":16,"length2":18},{"diffs":[[0,"Height,\n"],[1,"  "],[0,"  mouseP"]],"start1":147,"start2":147,"length1":16,"length2":18},{"diffs":[[0,"= {\n    "],[1,"  "],[0,"x: 400,\n"]],"start1":168,"start2":168,"length1":16,"length2":18},{"diffs":[[0,"    "],[1," "],[1," "],[0,"y: 300\n"],[1,"  "],[0,"  },\n"],[-1,"\n"],[1,"  \n  "],[0,"  //"]],"start1":186,"start2":186,"length1":21,"length2":29},{"diffs":[[0,"anvas\n  "],[1,"  //"],[0,"canvas ="]],"start1":224,"start2":224,"length1":16,"length2":20},{"diffs":[[0,"tx'),\n  "],[1,"  //"],[0,"context "]],"start1":271,"start2":271,"length1":16,"length2":20},{"diffs":[[0,"('2d'),\n"],[1,"  "],[0,"  partic"]],"start1":310,"start2":310,"length1":16,"length2":18},{"diffs":[[0,"s = [],\n"],[1,"  "],[0,"  MAX_PA"]],"start1":330,"start2":330,"length1":16,"length2":18},{"diffs":[[0,"00;\n"],[-1,"\n"],[1,"  \n  "],[0,"// init\n"],[1,"  //"],[0,"$(do"]],"start1":359,"start2":359,"length1":17,"length2":25},{"diffs":[[0,"n() {\n  "],[1," "],[1," "],[0,"// docum"]],"start1":405,"start2":405,"length1":16,"length2":18},{"diffs":[[0,"anvas);\n"],[1,"  "],[0,"  // can"]],"start1":445,"start2":445,"length1":16,"length2":18},{"diffs":[[0,"_WIDTH;\n"],[1,"  "],[0,"  // can"]],"start1":481,"start2":481,"length1":16,"length2":18},{"diffs":[[0,"IGHT;\n  "],[1," "],[1," "],[0,"setInter"]],"start1":521,"start2":521,"length1":16,"length2":18},{"diffs":[[0," / 30);\n"],[-1,"});\n\n"],[1,"  //});\n  \n  "],[0,"$(docume"]],"start1":553,"start2":553,"length1":21,"length2":29},{"diffs":[[0,"on(e) {\n"],[1,"  "],[0,"  e.prev"]],"start1":602,"start2":602,"length1":16,"length2":18},{"diffs":[[0,"ault();\n"],[1,"  "],[0,"  mouseP"]],"start1":626,"start2":626,"length1":16,"length2":18},{"diffs":[[0,"= {\n    "],[1,"  "],[0,"x: e.cli"]],"start1":647,"start2":647,"length1":16,"length2":18},{"diffs":[[0,"tX,\n    "],[1," "],[1," "],[0,"y: e.cli"]],"start1":667,"start2":667,"length1":16,"length2":18},{"diffs":[[0,"ntY\n"],[1,"  "],[0,"  };\n"],[-1,"});\n\nvar Effects = Effects || {};\n\nEffects.Particles = function() {"],[1,"  });\n  "],[0,"\n  f"]],"start1":686,"start2":686,"length1":80,"length2":23}]],"length":3755,"saved":false}
{"ts":1366999468325,"patch":[[{"diffs":[[0," / 30);\n"],[1,"    setTimeout(function() {\n      window.clearInterval();\n    }, 10000);\n"],[0,"  //});\n"]],"start1":553,"start2":553,"length1":16,"length2":89}]],"length":3828,"saved":false}
{"ts":1366999736309,"patch":[[{"diffs":[[0,"{\n      "],[-1,"window."],[0,"clearInt"]],"start1":587,"start2":587,"length1":23,"length2":16}]],"length":3821,"saved":false}
{"ts":1366999974884,"patch":[[{"diffs":[[0,"_HEIGHT;\n   "],[1," var fireworks ="],[0," setInterval"]],"start1":518,"start2":518,"length1":24,"length2":40},{"diffs":[[0,"nterval("],[1,"fireworks"],[0,");\n    }"]],"start1":617,"start2":617,"length1":16,"length2":25}]],"length":3846,"saved":false}
{"ts":1367000367434,"patch":[[{"diffs":[[0,"HT;\n"],[-1,"    var fireworks = setInterval(loop, 1000 / 30);\n    setTimeout(function() {\n      clearInterval(fireworks);\n    }, 10000);\n"],[0,"  //"]],"start1":523,"start2":523,"length1":133,"length2":8}]],"length":3721,"saved":false}
{"ts":1367000525227,"patch":[[{"diffs":[[0,"HEIGHT;\n"],[1,"    var fireworks = setInterval(loop, 1000 / 30);\n    setTimeout(function() {\n      clearInterval(fireworks);\n    }, 10000);\n"],[0,"  //});\n"]],"start1":519,"start2":519,"length1":16,"length2":141}]],"length":3846,"saved":false}
{"contributors":[],"silentsave":false,"ts":1367102011723,"patch":[[{"diffs":[[0,"en size\n    "],[1,"/*"],[0,"if (SCREEN_W"]],"start1":835,"start2":835,"length1":24,"length2":26},{"diffs":[[0,"eight;\n    }"],[1,"*/"],[0,"\n\n    // cle"]],"start1":1049,"start2":1049,"length1":24,"length2":26}]],"length":3850,"saved":false}
{"contributors":[],"silentsave":false,"ts":1367252291108,"patch":[[{"diffs":[[0,"ouse"],[-1,"move"],[1,"down"],[0,"(fun"]],"start1":678,"start2":678,"length1":12,"length2":12},{"diffs":[[0," canvas\n    "],[1,"//"],[0,"context.fill"]],"start1":1077,"start2":1077,"length1":24,"length2":26},{"diffs":[[0,")\";\n    "],[1,"//"],[0,"context."]],"start1":1129,"start2":1129,"length1":16,"length2":18}]],"length":3854,"saved":false}
{"ts":1367252399859,"patch":[[{"diffs":[[0," canvas\n    "],[-1,"//"],[0,"context.fill"]],"start1":1077,"start2":1077,"length1":26,"length2":24},{"diffs":[[0," 0.1)\";\n    "],[-1,"//"],[0,"context.fill"]],"start1":1123,"start2":1123,"length1":26,"length2":24}]],"length":3850,"saved":false}
