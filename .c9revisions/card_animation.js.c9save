{"ts":1366561224457,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1366561256169,"patch":[[{"diffs":[[1,"var stage = new Kinetic.Stage({\n  \n  );"]],"start1":0,"start2":0,"length1":0,"length2":39}]],"length":39,"saved":false}
{"ts":1366561577205,"patch":[[{"diffs":[[0,"age({\n  "],[-1,"\n  "],[1,"container: 'container',\n  width: 578,\n  height: 220\n});\n\nvar layer = new Kinetic.Layer();\n\nvar simpleText = new Kinetic.Text({\n  x: stage.getWidth() / 2,\n  y: 15,\n  text: 'Simple Text',\n  fontSize: 30,\n  fontFamily: 'Calibri',\n  fill: 'green'\n}"],[0,");"]],"start1":26,"start2":26,"length1":13,"length2":254}]],"length":280,"saved":false}
{"ts":1366563624358,"patch":[[{"diffs":[[0," 'green'\n});"],[1,"\n\nsimpleText.setOffset({\n  x: simpleText.getWidth() / 2\n});\n\nvar complexText = new Kinetic.Text({\n  x: 100,\n  y: 60,\n  text: 'AT',\n  fontSize: 40,\n  fontFamily: 'Caliibri',\n  fill: '#',\n  width: 380,\n  padding: 20,\n  align: 'center'\n});\n\nvar rect = Kinetic.Rect({\n  x: 100,\n  y: 60,\n  stroke: '#555',\n  strokeWidth: 5,\n  fill: '#ddd',\n  width: 380,\n  height: complexText.getHeight(),\n  shadowColor: 'Black',\n  shadowBlur: 10,\n  shadowOffset: [10, 10],\n  shadowOpacity: 0.2,\n  cornerRadius: 10\n});\n\nlayer.add(simpleText);\nlayer.add(rect);\nlayer.add(complexText);\nstage.add(layer);"]],"start1":268,"start2":268,"length1":12,"length2":591}]],"length":859,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366651829443,"patch":[[{"diffs":[[1,"var Reader = Reader || {};\n\n"],[0,"var stage = "]],"start1":0,"start2":0,"length1":12,"length2":40},{"diffs":[[0,"Stage({\n"],[-1,""],[0,"  contai"]],"start1":52,"start2":52,"length1":16,"length2":16},{"diffs":[[0,"ht: 220\n});\n"],[-1,"\n"],[0,"var layer = "]],"start1":106,"start2":106,"length1":25,"length2":24},{"diffs":[[0,");\n\n"],[-1,"var simpleText = new Kinetic.Text({\n  x: stage.getWidth() / 2,\n  y: 15,\n  text: 'Simple Text',\n  fontSize: 30,\n  fontFamily: 'Calibri',\n  fill: 'green'\n});\n\nsimpleText.setOffset({\n  x: simpleText.getWidth() / 2\n});\n"],[1,"// since this text is inside of a defined area, we can center it using\n// align: 'center'"],[0,"\nvar"]],"start1":148,"start2":148,"length1":223,"length2":97},{"diffs":[[0,"ze: "],[-1,"40"],[1,"38"],[0,",\n  "]],"start1":320,"start2":320,"length1":10,"length2":10},{"diffs":[[0,"y: 'Cali"],[-1,"i"],[0,"bri',\n  "]],"start1":339,"start2":339,"length1":17,"length2":16},{"diffs":[[0,"fill: '#"],[1,"555"],[0,"',\n  wid"]],"start1":355,"start2":355,"length1":16,"length2":19},{"diffs":[[0,"r rect ="],[1," new"],[0," Kinetic"]],"start1":423,"start2":423,"length1":16,"length2":20},{"diffs":[[0,"Color: '"],[-1,"B"],[1,"b"],[0,"lack',\n "]],"start1":579,"start2":579,"length1":17,"length2":17},{"diffs":[[0,");\n\n"],[-1,"layer.add(simpleText);"],[1,"\n//http://stackoverflow.com/questions/1484506/random-color-generator-in-javascript\nfunction get_random_color() {\n    var letters = '0123456789ABCDEF'.split('');\n    var color = '#';\n    for (var i = 0; i < 6; i++ ) {\n        color += letters[Math.round(Math.random() * 15)];\n    }\n    return color;\n}\n\nfunction animateText(text, layer){\n  var period = 2000;\n\n  var anim = new Kinetic.Animation(function(frame) {\n    var scale = Math.sin(frame.time * 2 * Math.PI / period) + 0.001;\n    // scale x and y\n    text.setScale(scale);\n  }, layer);\n\n  anim.start();\n}\n\nfunction rotateObject(text, layer){\n  // one revolution per 4 seconds\n  var angularSpeed = Math.PI / 2;\n  var anim = new Kinetic.Animation(function(frame) {\n    var angleDiff = frame.timeDiff * angularSpeed / 1000;\n    text.rotate(angleDiff);\n  }, layer);\n\n  anim.start();\n}\n\nfunction moveObject(text, layer){\n  var amplitude = 150;\n  var period = 2000;\n  // in ms\n  var centerX = stage.getWidth() / 2;\n\n  var anim = new Kinetic.Animation(function(frame) {\n    text.setX(amplitude * Math.sin(frame.time * 2 * Math.PI / period) + centerX);\n  }, layer);\n\n  anim.start();\n}\n\nfunction fadeObject(object, layer){\n  var opacity = 1;\n  var interval = setInterval(function(){\n    opacity = opacity -.25;\n    object.setOpacity(opacity);\n    layer.draw();\n    if(opacity === 0)\n      clearInterval(interval);\n  },1000);\n}\n\nfunction randomTextPlacement(audioText){\n  var randomX = Math.floor((Math.random()*stage.getWidth())+1);\n  var randomY = Math.floor((Math.random()*stage.getHeight())+1);\n  console.log(\"RandomX: \" + randomX);\n  console.log(\"RandomY: \" + randomY);\n\n  var layer = new Kinetic.Layer();\n  //determine random x,y for text \n  var randomAudioText = new Kinetic.Text({\n    x: randomX,\n    y: randomY,\n    text: audioText,\n    fontSize: 38,\n    fontFamily: 'Calibri',\n    fill: get_random_color(),\n  });\n  layer.add(randomAudioText);\n  stage.add(layer);\n  \n  animateText(randomAudioText, layer);\n  rotateObject(randomAudioText, layer);\n  moveObject(randomAudioText, layer);\n  fadeObject(randomAudioText, layer);\n}\n\n// add the shapes to the layer"],[0,"\nlay"]],"start1":681,"start2":681,"length1":30,"length2":2117},{"diffs":[[0,"xText);\n"],[-1,""],[0,"stage.ad"]],"start1":2828,"start2":2828,"length1":16,"length2":16},{"diffs":[[0,"Text);\nstage.add(layer);"],[1,"\n"]],"start1":2829,"start2":2829,"length1":24,"length2":25}]],"length":2854,"saved":false}
{"ts":1366651985474,"patch":[[{"diffs":[[0,");\n  \n  "],[1,"//"],[0,"animateT"]],"start1":2600,"start2":2600,"length1":16,"length2":18},{"diffs":[[0,"yer);\n  "],[1,"//"],[0,"rotateOb"]],"start1":2641,"start2":2641,"length1":16,"length2":18},{"diffs":[[0,"yer);\n  "],[1,"//"],[0,"moveObje"]],"start1":2683,"start2":2683,"length1":16,"length2":18}]],"length":2860,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366723290518,"patch":[[{"diffs":[[0,"r);\n"],[-1,"  "],[1,"}\n\nfunction placeText(){\n  randomTextPlacement(randomAudioText, layer);"],[0,"\n  "],[-1,"//"],[0,"anim"]],"start1":2599,"start2":2599,"length1":15,"length2":82},{"diffs":[[0,"yer);\n  "],[-1,"//"],[0,"rotateOb"]],"start1":2708,"start2":2708,"length1":18,"length2":16},{"diffs":[[0,"yer);\n  "],[-1,"//"],[0,"moveObje"]],"start1":2748,"start2":2748,"length1":18,"length2":16}]],"length":2923,"saved":false}
{"ts":1366723388916,"patch":[[{"diffs":[[0,"(layer);\n}\n\n"],[1,"function showTextDrifting(audioText){\n  var centerX = stage.getWidth()/2;\n  var centerY = stage.getHeight()/+2;\n  console.log(\"centerX: \" + centerX);\n  console.log(\"centerY: \" + centerY);\n\n  var layer = new Kinetic.Layer();\n  //determine random x,y for text \n  var text = new Kinetic.Text({\n    x: centerX,\n    y: centerY,\n    text: audioText,\n    fontSize: 38,\n    fontFamily: 'Calibri',\n    fill: get_random_color(),\n  });\n  layer.add(text);\n  stage.add(layer);\n}\n\n"],[0,"function pla"]],"start1":2594,"start2":2594,"length1":24,"length2":491}]],"length":3390,"saved":false}
{"ts":1366723836338,"patch":[[{"diffs":[[0,"etX("],[-1,"amplitude * Math.sin(frame.time * 2 * Math.PI / period) + "],[0,"centerX"],[1,"++"],[0,");\n "]],"start1":1713,"start2":1713,"length1":73,"length2":17},{"diffs":[[0,"Text"],[-1,"Drifting"],[1,"Center"],[0,"(aud"]],"start1":2563,"start2":2563,"length1":16,"length2":14}]],"length":3332,"saved":false}
{"ts":1366723948653,"patch":[[{"diffs":[[0,"Center(audioText"],[-1,""],[0,""],[1,", layer"],[0,"){\n  var centerX"]],"start1":2567,"start2":2567,"length1":32,"length2":39},{"diffs":[[0,"Y);\n"],[-1,"\n"],[0,"  "],[-1,"var layer = new Kinetic.Layer();"],[0,"\n  /"]],"start1":2739,"start2":2739,"length1":43,"length2":10},{"diffs":[[0,"ext);\n  "],[-1,"stage.add(layer);"],[0,"\n}\n\nfunc"]],"start1":2960,"start2":2960,"length1":33,"length2":16},{"diffs":[[0,"laceText"],[1,"CenterAndDrift(){\n  var layer = new Kinetic.Layer();\n  stage.add(layer);\n}\n\nfunction placeTextAtRandom"],[0,"(){\n  ra"]],"start1":2982,"start2":2982,"length1":16,"length2":118}]],"length":3391,"saved":false}
{"ts":1366724097804,"patch":[[{"diffs":[[0,"etX("],[1,"amplitude * Math.sin(frame.time * 2 * Math.PI / period) + "],[0,"centerX"],[-1,"++"],[0,");\n "]],"start1":1713,"start2":1713,"length1":17,"length2":73},{"diffs":[[0,"ext);\n  "],[1,"return layer"],[0,"\n}\n\nfunc"]],"start1":3016,"start2":3016,"length1":16,"length2":28},{"diffs":[[0,"ndDrift("],[1,"text"],[0,"){\n  var"]],"start1":3065,"start2":3065,"length1":16,"length2":20},{"diffs":[[0,"ayer();\n"],[1,"  layer = showTextCenter(text, layer);\n  l\n"],[0,"  stage."]],"start1":3107,"start2":3107,"length1":16,"length2":59}]],"length":3506,"saved":false}
{"ts":1366724358721,"patch":[[{"diffs":[[0,"yer);\n  "],[-1,"l"],[1,"\n  var centerX = stage.getWidth()/2;\n  var anim = new Kinetic.Animation(function(frame) {\n    text.setX(amplitude * Math.sin(frame.time * 2 / period) + centerX);\n  }, layer);\n\n  anim.start();\n  "],[0,"\n  stage"]],"start1":3148,"start2":3148,"length1":17,"length2":210}]],"length":3699,"saved":false}
{"ts":1366724412451,"patch":[[{"diffs":[[0,"er);\n  \n"],[1,"  var amplitude = 150;\n      var period = 2000;\n"],[0,"  var ce"]],"start1":3149,"start2":3149,"length1":16,"length2":64},{"diffs":[[0,"stage.getWidth()"],[-1,"/"],[1," / "],[0,"2;\n  var anim = "]],"start1":3221,"start2":3221,"length1":33,"length2":35}]],"length":3749,"saved":false}
{"ts":1366724566329,"patch":[[{"diffs":[[0,"ext);\n  "],[-1,"stage.add(layer)"],[1,"\n  return randomAudioText"],[0,";\n}\n\nfun"]],"start1":2577,"start2":2577,"length1":32,"length2":41},{"diffs":[[0," = 150;\n"],[-1,"    "],[0,"  var pe"]],"start1":3181,"start2":3181,"length1":20,"length2":16},{"diffs":[[0,"= 2000;\n"],[1,""],[0,"  var ce"]],"start1":3202,"start2":3202,"length1":16,"length2":16},{"diffs":[[0,"tRandom("],[1,"text"],[0,"){\n "],[1," var layer = new Kinetic.Layer();\n  \n  var randomAudioText ="],[0," randomT"]],"start1":3448,"start2":3448,"length1":20,"length2":84},{"diffs":[[0,"acement("],[-1,"randomAudioT"],[1,"t"],[0,"ext, lay"]],"start1":3537,"start2":3537,"length1":28,"length2":17},{"diffs":[[0,"layer);\n"],[-1,""],[0,"  fadeOb"]],"start1":3668,"start2":3668,"length1":16,"length2":16},{"diffs":[[0,"layer);\n"],[1,"  stage.add(layer);\n"],[0,"}\n\n// ad"]],"start1":3706,"start2":3706,"length1":16,"length2":36}]],"length":3827,"saved":false}
{"ts":1366724644390,"patch":[[{"diffs":[[0," return "],[-1,"layer"],[1,"text;"],[0,"\n}\n\nfunc"]],"start1":3032,"start2":3032,"length1":21,"length2":21},{"diffs":[[0,"er();\n  "],[-1,"layer"],[1,"\n  var textContext"],[0," = showT"]],"start1":3118,"start2":3118,"length1":21,"length2":34}]],"length":3840,"saved":false}
{"ts":1366724648071,"patch":[[{"diffs":[[0,"on(frame) {\n    "],[1,"textCon"],[0,"text.setX(amplit"]],"start1":3302,"start2":3302,"length1":32,"length2":39}]],"length":3847,"saved":false}
{"ts":1366724678943,"patch":[[{"diffs":[[0,"amplitude * "],[-1,"Math.sin"],[0,"(frame.time "]],"start1":3335,"start2":3335,"length1":32,"length2":24}]],"length":3839,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366724720275,"patch":[[{"diffs":[[0,"e * 2 / period) "],[-1,"+"],[1,"-"],[0," centerX);\n  }, "]],"start1":3357,"start2":3357,"length1":33,"length2":33}]],"length":3839,"saved":false}
{"ts":1366724931762,"patch":[[{"diffs":[[0,"period) "],[-1,"-"],[1,"+"],[0," centerX"]],"start1":3365,"start2":3365,"length1":17,"length2":17}]],"length":3839,"saved":false}
{"ts":1366725448974,"patch":[[{"diffs":[[0,"netic.Animation("],[1,"\n    "],[0,"function(frame) "]],"start1":3280,"start2":3280,"length1":32,"length2":37},{"diffs":[[0,"nction(frame) {\n"],[1,"  "],[0,"    textContext."]],"start1":3303,"start2":3303,"length1":32,"length2":34},{"diffs":[[0,"od) + centerX);\n"],[1,"  "],[0,"  }, layer);\n\n  "]],"start1":3376,"start2":3376,"length1":32,"length2":34}]],"length":3848,"saved":false}
{"ts":1366725451989,"patch":[[{"diffs":[[0,"rX);\n    }, "],[1,"\n  "],[0,"layer);\n\n  a"]],"start1":3387,"start2":3387,"length1":24,"length2":27}]],"length":3851,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366755593187,"patch":[[{"diffs":[[0,"};\n\nvar "],[-1,""],[0,""],[1,"horizontalTextDirection = \"right\"; \nvar verticalTextDirection = \"up\";\n\nvar "],[0,"stage = "]],"start1":24,"start2":24,"length1":16,"length2":91},{"diffs":[[0,"ateText(text"],[-1,", layer){"],[1,"){\n   var layer = new Kinetic.Layer();"],[0,"\n  var perio"]],"start1":1075,"start2":1075,"length1":33,"length2":62},{"diffs":[[0,"  anim.start();\n"],[1,"  stage.add(layer);\n"],[0,"}\n\nfunction rota"]],"start1":1331,"start2":1331,"length1":32,"length2":52},{"diffs":[[0,"xt, layer){\n"],[1,"   var layer = new Kinetic.Layer();\n"],[0,"  var amplit"]],"start1":1668,"start2":1668,"length1":24,"length2":60},{"diffs":[[0,"  anim.start();\n"],[1,"  stage.add(layer);\n"],[0,"}\n\nfunction fade"]],"start1":1959,"start2":1959,"length1":32,"length2":52},{"diffs":[[0,"t(object"],[-1,", layer){"],[1,"){\n  var layer = new Kinetic.Layer();\n  "],[0,"\n  var o"]],"start1":2016,"start2":2016,"length1":25,"length2":56},{"diffs":[[0,",1000);\n"],[1,"  \n  layer.add(object);\n  stage.add(layer);\n"],[0,"}\n\nfunct"]],"start1":2259,"start2":2259,"length1":16,"length2":60},{"diffs":[[0,"audioText){\n"],[1,"  var layer = new Kinetic.Layer();\n"],[0,"  var random"]],"start1":2343,"start2":2343,"length1":24,"length2":59},{"diffs":[[0,"ext);\n  "],[-1,""],[0,""],[1,"stage.add(layer);"],[0,"\n  retur"]],"start1":2867,"start2":2867,"length1":16,"length2":33},{"diffs":[[0,";\n  "],[-1,"return text"],[1,"stage.add(layer);\n  return text;\n}\n\nfunction moveLeft(textContext, frame, startX, period){\n  textContext.setX(startX - 150 * (frame.time * 2 / period));\n}\n\nfunction moveRight(textContext, frame, startX, period){\n  textContext.setX(150 * (frame.time * 2 / period) + startX);\n}\n\nfunction moveUp(context, frame, startY, period){\n  context.setY(150 * (frame.time * 2 / period) + startY)"],[0,";\n}\n"]],"start1":3336,"start2":3336,"length1":19,"length2":390},{"diffs":[[0,"idth() / 2;\n"],[1,"  \n"],[0,"  var anim ="]],"start1":3927,"start2":3927,"length1":24,"length2":27},{"diffs":[[0,"on(\n    "],[1,"  "],[0,"function"]],"start1":3974,"start2":3974,"length1":16,"length2":18},{"diffs":[[0,"    "],[-1,"textContext.setX(amplitude * (frame.time * 2 / period) + centerX);\n"],[1,"  //All of these animations are happening along the same y axis\n        if(horizontalTextDirection === \"right\")\n          moveRight(textContext, frame, centerX, period);\n        else\n          moveLeft(textContext, frame, centerX, period);\n        \n        if(verticalTextDirection === \"up\"){\n          moveUp(textContext, frame, centerY, period);\n        }\n  "],[0,"    }, \n"],[1,"  "],[0,"  la"]],"start1":4004,"start2":4004,"length1":83,"length2":378},{"diffs":[[0," }, \n    layer);"],[1,"\n  "],[0,"\n\n  anim.start()"]],"start1":4371,"start2":4371,"length1":32,"length2":35},{"diffs":[[0,"age.add(layer);\n"],[1,"  \n  //Cleanup\n  if(horizontalTextDirection === \"right\"){\n    horizontalTextDirection = \"left\";\n  }\n  else{\n    //Shift to the left\n    horizontalTextDirection = \"right\";\n  }\n"],[0,"}\n\nfunction plac"]],"start1":4415,"start2":4415,"length1":32,"length2":207},{"diffs":[[0,"t){\n"],[-1,"  var layer = new Kinetic.Layer();\n  "],[0,"\n  v"]],"start1":4639,"start2":4639,"length1":45,"length2":8},{"diffs":[[0,"udioText"],[-1,", layer"],[0,");\n  "],[1,"//"],[0,"rotateOb"]],"start1":4723,"start2":4723,"length1":28,"length2":23},{"diffs":[[0,"yer);\n  "],[1,"//"],[0,"moveObje"]],"start1":4770,"start2":4770,"length1":16,"length2":18},{"diffs":[[0,"udioText"],[-1,", layer"],[0,");\n  "],[1,"//"],[0,"stage.ad"]],"start1":4836,"start2":4836,"length1":28,"length2":23}]],"length":4962,"saved":false}
{"ts":1366755804825,"patch":[[{"diffs":[[0,"ner'"],[-1,",\n  width: 578,\n  height: 220"],[0,"\n});"]],"start1":155,"start2":155,"length1":37,"length2":8}]],"length":4933,"saved":false}
{"ts":1366756006641,"patch":[[{"diffs":[[0,"ntainer'"],[1,",\n  width: window.innerWidth,\n  height: window.innerHeight"],[0,"\n});\nvar"]],"start1":151,"start2":151,"length1":16,"length2":74}]],"length":4991,"saved":false}
{"ts":1366756199527,"patch":[[{"diffs":[[0,"() / 2;\n"],[1,"  var centerY = stage.getHeight() / 2;\n"],[0,"  \n  var"]],"start1":3960,"start2":3960,"length1":16,"length2":55}]],"length":5030,"saved":false}
{"ts":1366756273778,"patch":[[{"diffs":[[0,"startY);\n}\n\n"],[1,"function moveDown(context, frame, startY, period){\n  context.setY(startY - (150 * (frame.time * 2 / period)));\n}\n\n"],[0,"function pla"]],"start1":3744,"start2":3744,"length1":24,"length2":138}]],"length":5144,"saved":false}
{"ts":1366756297865,"patch":[[{"diffs":[[0,";\n        }\n"],[1,"        else{\n          moveDown(textContext, frame, centerY, period);\n        }\n"],[0,"      }, \n  "]],"start1":4536,"start2":4536,"length1":24,"length2":105}]],"length":5225,"saved":false}
{"ts":1366756343896,"patch":[[{"diffs":[[0,"t\";\n  }\n"],[1,"  if(verticalTextDirection === \"up\"){\n    verticalTextDirection = \"down\";\n  }\n  else{\n    //Shift to the left\n    verticalTextDirection = \"up\";\n  }\n"],[0,"}\n\nfunct"]],"start1":4861,"start2":4861,"length1":16,"length2":164}]],"length":5373,"saved":false}
{"ts":1366756681072,"patch":[[{"diffs":[[0,"er);\n}\n\n"],[1,"function writeMessage(messageLayer, message) {\n  var context = messageLayer.getContext();\n  messageLayer.clear();\n  context.font = '18pt Calibri';\n  context.fillStyle = 'black';\n  context.fillText(message, 10, 25);\n}\n\n"],[0,"// add t"]],"start1":5275,"start2":5275,"length1":16,"length2":234}]],"length":5591,"saved":false}
{"ts":1366756709733,"patch":[[{"diffs":[[0,"25);\n}\n\n"],[1,"var messageLayer = new Kinetic.Layer();\n\n\n"],[0,"// add t"]],"start1":5493,"start2":5493,"length1":16,"length2":58}]],"length":5633,"saved":false}
{"ts":1366756815337,"patch":[[{"diffs":[[0," \n  var "],[-1,"textC"],[1,"c"],[0,"ontext ="]],"start1":3946,"start2":3946,"length1":21,"length2":17},{"diffs":[[0,"      moveRight("],[-1,"textC"],[1,"c"],[0,"ontext, frame, c"]],"start1":4302,"start2":4302,"length1":37,"length2":33},{"diffs":[[0,"       moveLeft("],[-1,"textC"],[1,"c"],[0,"ontext, frame, c"]],"start1":4368,"start2":4368,"length1":37,"length2":33},{"diffs":[[0," moveUp("],[-1,"textC"],[1,"c"],[0,"ontext, "]],"start1":4480,"start2":4480,"length1":21,"length2":17},{"diffs":[[0,"oveDown("],[-1,"textC"],[1,"c"],[0,"ontext, "]],"start1":4557,"start2":4557,"length1":21,"length2":17},{"diffs":[[0,"p\";\n  }\n"],[1,"  \n  context.on('touchmove', function() {\n    var touchPos = stage.getTouchPosition();\n    var x = touchPos.x - 190;\n    var y = touchPos.y - 40;\n    writeMessage(messageLayer, 'x: ' + x + ', y: ' + y);\n  });\n"],[0,"}\n\nfunct"]],"start1":4989,"start2":4989,"length1":16,"length2":225},{"diffs":[[0,"Layer();"],[-1,""],[0,""],[1,"\n"],[0,"\n\n\n// ad"]],"start1":5721,"start2":5721,"length1":16,"length2":17}]],"length":5823,"saved":false}
{"ts":1366756852027,"patch":[[{"diffs":[[0,"t();\n  \n"],[1,"  ontext.on('touchmove', function() {\n    var touchPos = stage.getTouchPosition();\n    var x = touchPos.x - 190;\n    var y = touchPos.y - 40;\n    writeMessage(messageLayer, 'x: ' + x + ', y: ' + y);\n  });\n  \n"],[0,"  stage."]],"start1":4646,"start2":4646,"length1":16,"length2":224},{"diffs":[[0,"\n  c"],[-1,"ontext.on('touchmove', function() {\n    var touchPos = stage.getTouchPosition();\n    var x = touchPos.x - 190;\n    var y = touchPos.y - 40;\n    writeMessage(messageLayer, 'x: ' + x + ', y: ' + y);\n  });"],[0,"\n}\n\n"]],"start1":5207,"start2":5207,"length1":210,"length2":8}]],"length":5829,"saved":false}
{"ts":1366756880345,"patch":[[{"diffs":[[0,");\n  \n  "],[1,"//bind events before adding to the stage\n  c"],[0,"ontext.o"]],"start1":4648,"start2":4648,"length1":16,"length2":60}]],"length":5873,"saved":false}
{"ts":1366756947294,"patch":[[{"diffs":[[0,"  }\n"],[-1,"  \n  c\n"],[0,"}\n\nf"]],"start1":5245,"start2":5245,"length1":15,"length2":8}]],"length":5866,"saved":false}
{"ts":1366757021511,"patch":[[{"diffs":[[0,"_color(),\n  });\n"],[1,"  \n  text.on('touchmove', function() {\n    var touchPos = stage.getTouchPosition();\n    var x = touchPos.x - 190;\n    var y = touchPos.y - 40;\n    writeMessage(messageLayer, 'x: ' + x + ', y: ' + y);\n  });\n  \n"],[0,"  layer.add(text"]],"start1":3332,"start2":3332,"length1":32,"length2":241},{"diffs":[[0,"age\n"],[-1,"  context.on('touchmove', function() {\n    var touchPos = stage.getTouchPosition();\n    var x = touchPos.x - 190;\n    var y = touchPos.y - 40;\n    writeMessage(messageLayer, 'x: ' + x + ', y: ' + y);\n  });\n"],[0,"  \n "]],"start1":4902,"start2":4902,"length1":214,"length2":8}]],"length":5869,"saved":false}
{"ts":1366757060352,"patch":[[{"diffs":[[0,"y - 40;\n"],[1,"    console.log('touched');\n"],[0,"    writ"]],"start1":3483,"start2":3483,"length1":16,"length2":44}]],"length":5897,"saved":false}
{"ts":1366757209339,"patch":[[{"diffs":[[0,"\n  \n"],[-1,"  text.on('touchmove', function() {\n    var touchPos = stage.getTouchPosition();\n    var x = touchPos.x - 190;\n    var y = touchPos.y - 40;\n    console.log('touched');\n    writeMessage(messageLayer, 'x: ' + x + ', y: ' + y);\n  });\n  \n"],[0,"  la"]],"start1":3347,"start2":3347,"length1":242,"length2":8},{"diffs":[[0,"yer();\n\n"],[1,"rect.on('touchmove', function() {\n    var touchPos = stage.getTouchPosition();\n    var x = touchPos.x - 190;\n    var y = touchPos.y - 40;\n    console.log('touched');\n    writeMessage(messageLayer, 'x: ' + x + ', y: ' + y);\n  });"],[0,"\n\n// add"]],"start1":5563,"start2":5563,"length1":16,"length2":244}]],"length":5891,"saved":false}
{"ts":1366757241448,"patch":[[{"diffs":[[0,"yer();\n\n"],[1,"\n\n// add the shapes to the layer\nlayer.add(rect);\nlayer.add(complexText);\nstage.add(layer);\n\n\n"],[0,"rect.on("]],"start1":5563,"start2":5563,"length1":16,"length2":110},{"diffs":[[0," });"],[-1,"\n\n// add the shapes to the layer\nlayer.add(rect);\nlayer.add(complexText);\nstage.add(layer);\n"]],"start1":5889,"start2":5889,"length1":96,"length2":4}]],"length":5893,"saved":false}
{"ts":1366757270108,"patch":[[{"diffs":[[0,");\n\n"],[-1,"\n\n// add the shapes to the layer\nlayer.add(rect);\nlayer.add(complexText);\nstage.add(layer);\n\n\n"],[0,"rect"]],"start1":5567,"start2":5567,"length1":102,"length2":8},{"diffs":[[0," + y);\n  });"],[1,"\n\n// add the shapes to the layer\nlayer.add(rect);\nlayer.add(complexText);\nstage.add(layer);\n"]],"start1":5787,"start2":5787,"length1":12,"length2":104}]],"length":5891,"saved":false}
{"ts":1366757352174,"patch":[[{"diffs":[[0,");\n  });"],[1,"\n  \nrect.on('touchstart', function() {\n  writeMessage(messageLayer, 'Touchstart circle');\n});\n\nrect.on('touchend', function() {\n  writeMessage(messageLayer, 'Touchend circle');\n});"],[0,"\n\n// add"]],"start1":5791,"start2":5791,"length1":16,"length2":196}]],"length":6071,"saved":false}
{"ts":1366757588506,"patch":[[{"diffs":[[0,"\n}\n\n"],[-1,"function rotateObject(text, layer){\n  // one revolution per 4 seconds\n  var angularSpeed = Math.PI / 2;\n  var anim = new Kinetic.Animation(function(frame) {\n    var angleDiff = frame.timeDiff * angularSpeed / 1000;\n    text.rotate(angleDiff);\n  }, layer);\n\n  anim.start();\n}"],[0,"\n\nfu"]],"start1":1395,"start2":1395,"length1":282,"length2":8},{"diffs":[[0,"25);\n}\n\n"],[1,"function rotateObject(text, layer){\n  // one revolution per 4 seconds\n  var angularSpeed = Math.PI / 2;\n  var anim = new Kinetic.Animation(function(frame) {\n    var angleDiff = frame.timeDiff * angularSpeed / 1000;\n    text.rotate(angleDiff);\n  }, layer);\n\n  anim.start();\n}\n\n"],[0,"var mess"]],"start1":5248,"start2":5248,"length1":16,"length2":292},{"diffs":[[0,"le.log('"],[-1,"touch"],[1,"mov"],[0,"ed');\n  "]],"start1":5720,"start2":5720,"length1":21,"length2":19},{"diffs":[[0,"', function() {\n"],[1,"  console.log('touched');\n  rotateObject(rect, layer);\n"],[0,"  writeMessage(m"]],"start1":5822,"start2":5822,"length1":32,"length2":87},{"diffs":[[0,"cle');\n});\n\n"],[-1,""],[0,"rect.on('tou"]],"start1":5937,"start2":5937,"length1":24,"length2":24},{"diffs":[[0,"ion() {\n"],[1,"  console.log('touchend');\n"],[0,"  writeM"]],"start1":5974,"start2":5974,"length1":16,"length2":43}]],"length":6153,"saved":false}
{"ts":1366757639282,"patch":[[{"diffs":[[0," });\n  \n"],[-1,"rec"],[1,"tex"],[0,"t.on('to"]],"start1":5795,"start2":5795,"length1":19,"length2":19},{"diffs":[[0,"cle');\n});\n\n"],[-1,"rec"],[1,"tex"],[0,"t.on('touche"]],"start1":5937,"start2":5937,"length1":27,"length2":27}]],"length":6153,"saved":false}
{"ts":1366757963671,"patch":[[{"diffs":[[0," });\n  \n"],[-1,"t"],[1,"complexT"],[0,"ext.on('"]],"start1":5795,"start2":5795,"length1":17,"length2":24},{"diffs":[[0,");\n});\n\n"],[-1,"t"],[1,"complexT"],[0,"ext.on('"]],"start1":5948,"start2":5948,"length1":17,"length2":24}]],"length":6167,"saved":false}
{"ts":1366758050452,"patch":[[{"diffs":[[0,"});\n"],[-1,"  \ncomplexT"],[1,"\nfunction addRotateEvent(context){\n  cont"],[0,"ext."]],"start1":5796,"start2":5796,"length1":19,"length2":49},{"diffs":[[0,"', function() {\n"],[1,"  "],[0,"  console.log('t"]],"start1":5859,"start2":5859,"length1":32,"length2":34},{"diffs":[[0,"ed');\n  "],[1," "],[1," "],[0,"rotateOb"]],"start1":5897,"start2":5897,"length1":16,"length2":18},{"diffs":[[0,"layer);\n"],[1,"  "],[0,"  writeM"]],"start1":5926,"start2":5926,"length1":16,"length2":18},{"diffs":[[0,"');\n"],[-1,"});\n\ncomplexText.on('touchend', function() {\n  console.log('touchend');\n  writeMessage(messageLayer, 'Touchend circle'"],[1,"  }"],[0,");\n}"],[-1,");"],[0,"\n\n//"]],"start1":5983,"start2":5983,"length1":132,"length2":15}]],"length":6086,"saved":false}
{"ts":1366758081828,"patch":[[{"diffs":[[0,"e stage\n"],[1,"  addRotateEvent(text);\n"],[0,"  \n  sta"]],"start1":4418,"start2":4418,"length1":16,"length2":40}]],"length":6110,"saved":false}
{"ts":1366758191511,"patch":[[{"diffs":[[0,"tartY - "],[-1,"("],[0,"150 * (f"]],"start1":3552,"start2":3552,"length1":17,"length2":16},{"diffs":[[0,"period))"],[-1,")"],[0,";\n}\n\nfun"]],"start1":3584,"start2":3584,"length1":17,"length2":16}]],"length":6108,"saved":false}
{"ts":1366758274492,"patch":[[{"diffs":[[0,"RotateEvent("],[1,"con"],[0,"text);\n  \n  "]],"start1":4429,"start2":4429,"length1":24,"length2":27}]],"length":6111,"saved":false}
{"ts":1366758599919,"patch":[[{"diffs":[[0,"ion "],[-1,"placeTextCenterAndDrift(text){\n  var layer = new Kinetic.Layer();\n  \n  var context = showTextCenter(text, layer);\n  \n  var amplitude = 150;\n  var period = 2000;\n  var centerX = stage.getWidth() / 2;\n  var centerY = stage.getHeight() / 2;\n  "],[1,"randomAnimation(context, centerX, centerY, period){"],[0,"\n  v"]],"start1":3602,"start2":3602,"length1":248,"length2":59},{"diffs":[[0,"yer);\n  "],[-1,"\n\n"],[0,"  anim.s"]],"start1":4163,"start2":4163,"length1":18,"length2":16},{"diffs":[[0," anim.start("],[1,");\n}\n\nfunction placeTextCenterAndDrift(text){\n  var layer = new Kinetic.Layer();\n  \n  var context = showTextCenter(text, layer);\n  \n  var amplitude = 150;\n  var period = 2000;\n  var centerX = stage.getWidth() / 2;\n  var centerY = stage.getHeight() / 2;\n  randomAnimation(context, centerX, centerY, period"],[0,");\n  \n  //bi"]],"start1":4172,"start2":4172,"length1":24,"length2":328}]],"length":6224,"saved":false}
{"ts":1366758648491,"patch":[[{"diffs":[[0,"eObject("],[-1,"rec"],[1,"contex"],[0,"t, layer"]],"start1":6050,"start2":6050,"length1":19,"length2":22}]],"length":6227,"saved":false}
{"ts":1366758861811,"patch":[[{"diffs":[[0,"terY, period"],[1,", layer"],[0,"){\n  var ani"]],"start1":3643,"start2":3643,"length1":24,"length2":31},{"diffs":[[0,"terY, period"],[1,", layer"],[0,");\n  \n  //bi"]],"start1":4483,"start2":4483,"length1":24,"length2":31}]],"length":6241,"saved":false}
{"ts":1366758895598,"patch":[[{"diffs":[[0,"vent(context"],[1,", layer"],[0,");\n  \n  stag"]],"start1":4563,"start2":4563,"length1":24,"length2":31}]],"length":6248,"saved":false}
{"ts":1366758905545,"patch":[[{"diffs":[[0,"vent(context"],[1,", layer"],[0,"){\n  context"]],"start1":5979,"start2":5979,"length1":24,"length2":31}]],"length":6255,"saved":false}
{"ts":1366759267618,"patch":[[{"diffs":[[0,"    "],[-1,"//All of these animations are happening along the same y axis\n        if(horizontalTextDirection === \"right\")"],[1,"\n        switch(direction){\n        case \"NE\": "],[0,"\n   "]],"start1":3729,"start2":3729,"length1":117,"length2":55},{"diffs":[[0,"d);\n"],[-1,"        else\n"],[0,"    "]],"start1":3831,"start2":3831,"length1":21,"length2":8},{"diffs":[[0,"    move"],[-1,"Left"],[1,"Up"],[0,"(context"]],"start1":3841,"start2":3841,"length1":20,"length2":18},{"diffs":[[0,"t, frame, center"],[-1,"X"],[1,"Y"],[0,", period);\n     "]],"start1":3858,"start2":3858,"length1":33,"length2":33},{"diffs":[[0,"eriod);\n        "],[1,"  break;"],[0,"\n        if(vert"]],"start1":3878,"start2":3878,"length1":32,"length2":40},{"diffs":[[0,"    "],[-1,"if(verticalTextDirection === \"up\"){"],[1,"case \"SW\":"],[0,"\n   "]],"start1":3907,"start2":3907,"length1":43,"length2":18},{"diffs":[[0,":\n          move"],[-1,"Up"],[1,"Left"],[0,"(context, frame,"]],"start1":3920,"start2":3920,"length1":34,"length2":36},{"diffs":[[0,"t, frame, center"],[-1,"Y"],[1,"X"],[0,", period);\n     "]],"start1":3947,"start2":3947,"length1":33,"length2":33},{"diffs":[[0,"d);\n"],[-1,"        }\n        else{\n"],[0,"    "]],"start1":3971,"start2":3971,"length1":32,"length2":8},{"diffs":[[0,"nterY, period);\n"],[1,"          break;\n        default\n          break;\n"],[0,"        }\n      "]],"start1":4012,"start2":4012,"length1":32,"length2":82}]],"length":6189,"saved":false}
{"ts":1366759300762,"patch":[[{"diffs":[[0," default"],[1,":"],[0,"\n       "]],"start1":4052,"start2":4052,"length1":16,"length2":17},{"diffs":[[0,"ault:\n          "],[-1,"break"],[1,"moveRight(context, frame, centerX, period)"],[0,";\n        }\n    "]],"start1":4056,"start2":4056,"length1":37,"length2":74}]],"length":6227,"saved":false}
{"ts":1366759321423,"patch":[[{"diffs":[[0," = \"up\";"],[1,"\nvar direction = \"NE\";"],[0,"\n\nvar st"]],"start1":93,"start2":93,"length1":16,"length2":38}]],"length":6249,"saved":false}
{"ts":1366759491528,"patch":[[{"diffs":[[0,"p\n  "],[-1,"if(horizontalTextDirection === \"right\"){\n    horizontalTextD"],[1,"//Clockwise\n  switch(direction){\n    case \"N\":\n      direction = \"NE\";\n      break;\n    case \"NE\":\n      d"],[0,"irec"]],"start1":4615,"start2":4615,"length1":68,"length2":114},{"diffs":[[0," = \""],[-1,"left"],[1,"E"],[0,"\";\n  "],[-1,"}\n  else{\n    //Shift to the left\n    horizontalTextDirection = \"right\";\n  }\n  if(verticalTextDirection === \"up\"){\n    verticalTextD"],[1,"    break;\n    case \"E\":\n      direction = \"SE\";\n      break;\n    case \"SE\":\n      direction = \"S\";\n      break;\n    case \"S\":\n      d"],[0,"irec"]],"start1":4733,"start2":4733,"length1":149,"length2":148},{"diffs":[[0," = \""],[-1,"down"],[1,"SW"],[0,"\";\n  "],[-1,"}\n  else{\n    //Shift to the left\n    verticalTextDirection = \"up\";"],[1,"    break;\n    case \"SW\":\n      direction = \"W\";\n      break;\n    case \"W\":\n      direction = \"NW\";\n      break;\n    default:"],[0,"\n  }"]],"start1":4885,"start2":4885,"length1":84,"length2":140}]],"length":6350,"saved":false}
{"ts":1366759504584,"patch":[[{"diffs":[[0,"ion = \"N"],[-1,"E"],[0,"\";\n\nvar "]],"start1":112,"start2":112,"length1":17,"length2":16}]],"length":6349,"saved":false}
{"ts":1366759664040,"patch":[[{"diffs":[[0," case \"N"],[-1,""],[0,""],[1,"\":\n          moveUp(context, frame, centerY, period);\n          break;\n        case \"N"],[0,"E\": \n   "]],"start1":3789,"start2":3789,"length1":16,"length2":102},{"diffs":[[0,"e \"S"],[-1,"W\":\n          moveLeft(context, frame, centerX, period);\n          moveDown(context, frame, centerY, period);\n          break;\n        default:\n          moveRigh"],[1,"E\":\n          moveRight(context, frame, centerX, period);\n          moveDown(context, frame, centerY, period);\n          break;\n        case \"S\":\n          moveDown(context, frame, centerY, period);\n          break;\n        case \"SW\":\n          moveLeft(context, frame, centerX, period);\n          moveDown(context, frame, centerY, period);\n          break;\n        case \"W\":\n          moveLeft(context, frame, centerX, period);\n          break;\n        case \"NW\":\n          moveUp(context, frame, centerX, period);\n          moveLef"],[0,"t(co"]],"start1":4021,"start2":4021,"length1":170,"length2":541},{"diffs":[[0,"nterX, period);\n"],[1,"          break;\n        default:\n"],[0,"        }\n      "]],"start1":4578,"start2":4578,"length1":32,"length2":66}]],"length":6840,"saved":false}
{"ts":1366759760616,"patch":[[{"diffs":[[0,"udioText"],[-1,", layer){"],[1,"){\n  var layer = new Kinetic.Layer();"],[0,"\n  var c"]],"start1":2723,"start2":2723,"length1":25,"length2":53},{"diffs":[[0,"t){\n"],[-1,"  var layer = new Kinetic.Layer();\n"],[0,"  \n "]],"start1":4745,"start2":4745,"length1":43,"length2":8},{"diffs":[[0,"tCenter(text"],[-1,", layer"],[0,");\n  \n  var "]],"start1":4775,"start2":4775,"length1":31,"length2":24}]],"length":6826,"saved":false}
{"ts":1366759838837,"patch":[[{"diffs":[[0,"layer){\n"],[1,"  var layer = new Kinetic.Layer();\n"],[0,"  var an"]],"start1":3706,"start2":3706,"length1":16,"length2":51},{"diffs":[[0,"tart();\n"],[1,"    layer.add(text);\n    stage.add(layer);\n"],[0,"}\n\nfunct"]],"start1":4733,"start2":4733,"length1":16,"length2":59},{"diffs":[[0,", period"],[-1,", layer"],[0,");\n  \n  "]],"start1":5035,"start2":5035,"length1":23,"length2":16}]],"length":6897,"saved":false}
{"ts":1366759982973,"patch":[[{"diffs":[[0,";\n    layer.add("],[1,"con"],[0,"text);\n    stage"]],"start1":4739,"start2":4739,"length1":32,"length2":35},{"diffs":[[0,"text"],[-1,", layer);\n  \n  stage.add(layer"],[0,");\n "]],"start1":5115,"start2":5115,"length1":38,"length2":8},{"diffs":[[0,"layer){\n"],[1,"  var layer = new Kinetic.Layer();\n"],[0,"  contex"]],"start1":6608,"start2":6608,"length1":16,"length2":51}]],"length":6905,"saved":false}
{"ts":1366760176720,"patch":[[{"diffs":[[0,"ght\n});\n"],[1,"\nfunction faceUpCard(){\n  "],[0,"var laye"]],"start1":235,"start2":235,"length1":16,"length2":42},{"diffs":[[0,"ayer();\n"],[-1,"\n"],[1,"  \n  "],[0,"// since"]],"start1":294,"start2":294,"length1":17,"length2":21},{"diffs":[[0,"t using\n"],[1,"  "],[0,"// align"]],"start1":370,"start2":370,"length1":16,"length2":18},{"diffs":[[0,"center'\n"],[1,"  "],[0,"var comp"]],"start1":391,"start2":391,"length1":16,"length2":18},{"diffs":[[0,"etic.Text({\n"],[1,"  "],[0,"  x: 100,\n  "]],"start1":426,"start2":426,"length1":24,"length2":26},{"diffs":[[0,"t({\n    x: 100,\n"],[1,"  "],[0,"  y: 60,\n  text:"]],"start1":434,"start2":434,"length1":32,"length2":34},{"diffs":[[0," y: 60,\n"],[1,"  "],[0,"  text: "]],"start1":453,"start2":453,"length1":16,"length2":18},{"diffs":[[0,"xt: 'AT',\n  "],[1," "],[1," "],[0,"fontSize: 38"]],"start1":467,"start2":467,"length1":24,"length2":26},{"diffs":[[0,": 38,\n  "],[1," "],[1," "],[0,"fontFami"]],"start1":489,"start2":489,"length1":16,"length2":18},{"diffs":[[0,"libri',\n"],[1,"  "],[0,"  fill: "]],"start1":514,"start2":514,"length1":16,"length2":18},{"diffs":[[0,"'#555',\n"],[1,"  "],[0,"  width:"]],"start1":532,"start2":532,"length1":16,"length2":18},{"diffs":[[0," 380,\n  "],[1," "],[1," "],[0,"padding:"]],"start1":550,"start2":550,"length1":16,"length2":18},{"diffs":[[0,"ng: 20,\n"],[1,"  "],[0,"  align:"]],"start1":565,"start2":565,"length1":16,"length2":18},{"diffs":[[0,"center'\n"],[1,"  "],[0,"});\n"],[-1,"\n"],[1,"  \n  "],[0,"var rect"]],"start1":585,"start2":585,"length1":21,"length2":27},{"diffs":[[0,".Rect({\n"],[1,"  "],[0,"  x: 100"]],"start1":626,"start2":626,"length1":16,"length2":18},{"diffs":[[0," 100,\n  "],[1," "],[1," "],[0,"y: 60,\n"],[1,"  "],[0,"  stroke"]],"start1":640,"start2":640,"length1":23,"length2":27},{"diffs":[[0,"'#555',\n"],[1,"  "],[0,"  stroke"]],"start1":669,"start2":669,"length1":16,"length2":18},{"diffs":[[0,"h: 5,\n  "],[1," "],[1," "],[0,"fill: '#"]],"start1":691,"start2":691,"length1":16,"length2":18},{"diffs":[[0,"'#ddd',\n"],[1,"  "],[0,"  width:"]],"start1":707,"start2":707,"length1":16,"length2":18},{"diffs":[[0,"h: 380,\n"],[1,"  "],[0,"  height"]],"start1":723,"start2":723,"length1":16,"length2":18},{"diffs":[[0,"ight(),\n"],[1,"  "],[0,"  shadow"]],"start1":760,"start2":760,"length1":16,"length2":18},{"diffs":[[0," 'black',\n  "],[1," "],[1," "],[0,"shadowBlur: "]],"start1":784,"start2":784,"length1":24,"length2":26},{"diffs":[[0,"ur: 10,\n"],[1,"  "],[0,"  shadow"]],"start1":806,"start2":806,"length1":16,"length2":18},{"diffs":[[0,"0, 10],\n"],[1,"  "],[0,"  shadow"]],"start1":834,"start2":834,"length1":16,"length2":18},{"diffs":[[0,"y: 0.2,\n"],[1,"  "],[0,"  corner"]],"start1":858,"start2":858,"length1":16,"length2":18},{"diffs":[[0,"ius: 10\n"],[1,"  "],[0,"});\n"],[1,"}"],[0,"\n\n//http"]],"start1":879,"start2":879,"length1":20,"length2":23},{"diffs":[[0,"stage\n  "],[1,"//"],[0,"addRotat"]],"start1":5174,"start2":5174,"length1":16,"length2":18},{"diffs":[[0,"r){\n"],[-1,"  var layer = new Kinetic.Layer();\n"],[0,"  co"]],"start1":6699,"start2":6699,"length1":43,"length2":8}]],"length":6957,"saved":false}
{"ts":1366760244578,"patch":[[{"diffs":[[0,"s: 10\n  });\n"],[1,"  \n  rect.on('touchmove', function() {\n    var touchPos = stage.getTouchPosition();\n    var x = touchPos.x - 190;\n    var y = touchPos.y - 40;\n    console.log('moved');\n    writeMessage(messageLayer, 'x: ' + x + ', y: ' + y);\n  });\n  \n  // add the shapes to the layer\n  layer.add(rect);\n  layer.add(complexText);\n  stage.add(layer);\n"],[0,"}\n\n//http://"]],"start1":881,"start2":881,"length1":24,"length2":357},{"diffs":[[0,");\n\n"],[-1,"rect.on('touchmove', function() {\n    var touchPos = stage.getTouchPosition();\n    var x = touchPos.x - 190;\n    var y = touchPos.y - 40;\n    console.log('moved');\n    writeMessage(messageLayer, 'x: ' + x + ', y: ' + y);\n  });"],[0,"\n\nfu"]],"start1":6763,"start2":6763,"length1":234,"length2":8},{"diffs":[[0,"\n}\n\n"],[-1,"// add the shapes to the layer\nlayer.add(rect);\nlayer.add(complexText);\nstage.add(layer);"],[0,"\n"]],"start1":6970,"start2":6970,"length1":94,"length2":5}]],"length":6975,"saved":false}
{"ts":1366760328966,"patch":[[{"diffs":[[0,"(text);\n"],[-1,"  stage.add(layer);\n"],[0,"  return"]],"start1":3555,"start2":3555,"length1":36,"length2":16}]],"length":6955,"saved":false}
{"ts":1366760388184,"patch":[[{"diffs":[[0,"});\n"],[-1,"  \n  layer.add(text);"],[0,"\n  r"]],"start1":3537,"start2":3537,"length1":29,"length2":8}]],"length":6934,"saved":false}
{"ts":1366760460611,"patch":[[{"diffs":[[0,"();\n"],[-1,"    layer.add(context);\n    stage.add(layer);\n"],[0,"}\n\nf"]],"start1":5114,"start2":5114,"length1":54,"length2":8},{"diffs":[[0,"ontext);\n  \n"],[1,"  layer.add(context);\n  stage.add(layer);\n  \n"],[0,"  //Cleanup\n"]],"start1":5446,"start2":5446,"length1":24,"length2":69}]],"length":6933,"saved":false}
{"ts":1366760579600,"patch":[[{"diffs":[[0,"r){\n"],[-1,"  var layer = new Kinetic.Layer();\n"],[0,"  va"]],"start1":4087,"start2":4087,"length1":43,"length2":8},{"diffs":[[0,"r(text);\n  \n"],[1,"  var layer = new Kinetic.Layer();\n  \n"],[0,"  var amplit"]],"start1":5158,"start2":5158,"length1":24,"length2":62},{"diffs":[[0,"terY, period"],[1,", layer"],[0,");\n  \n  //bi"]],"start1":5368,"start2":5368,"length1":24,"length2":31}]],"length":6943,"saved":false}
{"ts":1366760697009,"patch":[[{"diffs":[[0,"t){\n"],[-1,"  var layer = new Kinetic.Layer();\n"],[0,"  va"]],"start1":3148,"start2":3148,"length1":43,"length2":8}]],"length":6908,"saved":false}
{"ts":1366760729036,"patch":[[{"diffs":[[0,");\n\n"],[-1,"  var layer = new Kinetic.Layer();\n"],[0,"  //"]],"start1":2786,"start2":2786,"length1":43,"length2":8}]],"length":6873,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366761076500,"patch":[[{"diffs":[[0,"start();\n}\n\n"],[1,"function tango(layer) {\n  for(var n = 0; n < layer.getChildren().length; n++) {\n    var shape = layer.getChildren()[n];\n    var stage = shape.getStage();\n    shape.transitionTo({\n      rotation: Math.random() * Math.PI * 2,\n      radius: Math.random() * 100 + 20,\n      x: Math.random() * stage.getWidth(),\n      y: Math.random() * stage.getHeight(),\n      opacity: Math.random(),\n      duration: 1,\n      easing: 'ease-in-out'\n    });\n  }\n}\n\n"],[0,"function pla"]],"start1":5004,"start2":5004,"length1":24,"length2":467}]],"length":7316,"saved":false}
{"ts":1366761129590,"patch":[[{"diffs":[[0," / 2;\n  "],[1,"//"],[0,"randomAn"]],"start1":5696,"start2":5696,"length1":16,"length2":18},{"diffs":[[0," layer);\n  \n"],[1,"  tango(layer);\n  \n"],[0,"  //bind eve"]],"start1":5756,"start2":5756,"length1":24,"length2":43}]],"length":7337,"saved":false}
{"ts":1366761258439,"patch":[[{"diffs":[[0,"Layer();\n  \n"],[1,"  layer.add(context);\n  \n"],[0,"  var amplit"]],"start1":5569,"start2":5569,"length1":24,"length2":49}]],"length":7362,"saved":false}
{"ts":1366761337190,"patch":[[{"diffs":[[0,"cement(audioText"],[1,", layer"],[0,"){\n  var layer ="]],"start1":2530,"start2":2530,"length1":32,"length2":39},{"diffs":[[0,"var "],[-1,"layer = new Kinetic.Layer"],[1,"stage = shape.getStage"],[0,"();\n"]],"start1":2558,"start2":2558,"length1":33,"length2":30},{"diffs":[[0,"r);\n"],[-1,"  return randomAudioText;\n"],[0,"}\n\nf"]],"start1":3052,"start2":3052,"length1":34,"length2":8}]],"length":7340,"saved":false}
{"ts":1366761371738,"patch":[[{"diffs":[[0,"){\n  \n  "],[-1,"var context = "],[1," //"],[0,"showText"]],"start1":5474,"start2":5474,"length1":30,"length2":19},{"diffs":[[0,");\n  \n  "],[-1,"layer.add(context"],[1,"var context = randomTextPlacement(text, layer"],[0,");\n  \n  "]],"start1":5542,"start2":5542,"length1":33,"length2":61}]],"length":7357,"saved":false}
{"ts":1366761443725,"patch":[[{"diffs":[[0,"  });\n  "],[-1,"layer.add("],[1,"return "],[0,"randomAu"]],"start1":3000,"start2":3000,"length1":26,"length2":23},{"diffs":[[0,"udioText"],[-1,");\n  stage.add(layer)"],[0,";\n}\n\nfun"]],"start1":3022,"start2":3022,"length1":37,"length2":16}]],"length":7333,"saved":false}
{"ts":1366761532997,"patch":[[{"diffs":[[0,"er);\n  \n"],[1,"  layer.add(context);\n  stage.add(layer);\n  \n"],[0,"  tango("]],"start1":5756,"start2":5756,"length1":16,"length2":61},{"diffs":[[0," \n  "],[-1,"layer.add(context);\n  stage.add(layer);"],[0,"\n  \n"]],"start1":5901,"start2":5901,"length1":47,"length2":8}]],"length":7339,"saved":false}
{"ts":1366810607437,"patch":[[{"diffs":[[0,"{\n  var stage = "],[-1,"shape"],[1,"layer"],[0,".getStage();\n  v"]],"start1":2554,"start2":2554,"length1":37,"length2":37},{"diffs":[[0,"xt);\n  \n"],[-1,"  \n  \n"],[0,"  //Clea"]],"start1":5895,"start2":5895,"length1":22,"length2":16}]],"length":7333,"saved":false}
{"ts":1366810738465,"patch":[[{"diffs":[[0,"xt, "],[-1,"layer){\n  var stage = layer.getStage();"],[1,"stage){"],[0,"\n  v"]],"start1":2544,"start2":2544,"length1":47,"length2":15},{"diffs":[[0,"ement(text, "],[-1,"layer"],[1,"stage"],[0,");\n  \n  var "]],"start1":5522,"start2":5522,"length1":29,"length2":29}]],"length":7301,"saved":false}
{"ts":1366822508001,"patch":[[{"diffs":[[0,",\n      "],[1,"//"],[0,"radius: "]],"start1":5160,"start2":5160,"length1":16,"length2":18}]],"length":7303,"saved":false}
{"ts":1366822597206,"patch":[[{"diffs":[[0,"\n    });\n  }\n}\n\n"],[1,"function animateObjects(layer){\n  tango(layer);\n}\n\n"],[0,"function placeTe"]],"start1":5367,"start2":5367,"length1":32,"length2":83},{"diffs":[[0,");\n  \n  "],[-1,"tango(layer);"],[0,"\n  \n  //"]],"start1":5824,"start2":5824,"length1":29,"length2":16}]],"length":7341,"saved":false}
{"ts":1366822976982,"patch":[[{"diffs":[[0,"(text);\n"],[-1,"  \n"],[0,"  var la"]],"start1":5496,"start2":5496,"length1":19,"length2":16},{"diffs":[[0,"r);\n"],[-1,"  \n  \n  \n"],[0,"  //"]],"start1":5820,"start2":5820,"length1":17,"length2":8},{"diffs":[[0,"yer();\n\n"],[-1,"\n\n"],[0,"function"]],"start1":7113,"start2":7113,"length1":18,"length2":16}]],"length":7327,"saved":false}
{"ts":1366823226912,"patch":[[{"diffs":[[0,"\n    });\n  }\n}\n\n"],[1,"var TextAnimation = function(){\n\n  var layer = new Kinetic.Layer();\n  \n  "],[0,"function animate"]],"start1":5367,"start2":5367,"length1":32,"length2":105},{"diffs":[[0,"layer){\n"],[1,"  "],[0,"  tango("]],"start1":5480,"start2":5480,"length1":16,"length2":18},{"diffs":[[0,"  tango(layer);\n"],[-1,"}\n\n"],[1,"  }\n  \n  "],[0,"function placeTe"]],"start1":5490,"start2":5490,"length1":35,"length2":41},{"diffs":[[0,"ext){\n  "],[-1,"\n"],[1,"  \n "],[0,"   "],[1," "],[0,"//showTe"]],"start1":5549,"start2":5549,"length1":20,"length2":24},{"diffs":[[0,";\n  "],[-1,"var layer = new Kinetic.Layer();\n  \n"],[0,"  va"]],"start1":5587,"start2":5587,"length1":44,"length2":8},{"diffs":[[0,", stage);\n  "],[-1,"\n"],[1,"  \n  "],[0,"  var amplit"]],"start1":5631,"start2":5631,"length1":25,"length2":29},{"diffs":[[0,"litude = 150;\n  "],[1," "],[1," "],[0,"var period = 200"]],"start1":5657,"start2":5657,"length1":32,"length2":34},{"diffs":[[0,"= 2000;\n"],[1,"  "],[0,"  var ce"]],"start1":5686,"start2":5686,"length1":16,"length2":18},{"diffs":[[0,"th() / 2;\n  "],[1," "],[1," "],[0,"var centerY "]],"start1":5724,"start2":5724,"length1":24,"length2":26},{"diffs":[[0,"() / 2;\n"],[1,"  "],[0,"  //rand"]],"start1":5767,"start2":5767,"length1":16,"length2":18},{"diffs":[[0,", layer);\n  "],[-1,"\n"],[1,"  \n  "],[0,"  layer.add("]],"start1":5830,"start2":5830,"length1":25,"length2":29},{"diffs":[[0,"ext);\n  "],[-1,"stage.add(layer);\n"],[0,"  //bind"]],"start1":5863,"start2":5863,"length1":34,"length2":16},{"diffs":[[0,"e stage\n"],[1,"  "],[0,"  //addR"]],"start1":5906,"start2":5906,"length1":16,"length2":18},{"diffs":[[0,"context);\n  "],[-1,"\n"],[1,"  \n  "],[0,"  //Cleanup\n"]],"start1":5935,"start2":5935,"length1":25,"length2":29},{"diffs":[[0,"Cleanup\n"],[1,"  "],[0,"  //Cloc"]],"start1":5956,"start2":5956,"length1":16,"length2":18},{"diffs":[[0,"ckwise\n "],[1,"   //use trigonometry\n    //"],[0," switch("]],"start1":5973,"start2":5973,"length1":16,"length2":44},{"diffs":[[0,"tion){\n "],[1,"   //"],[0,"   case "]],"start1":6022,"start2":6022,"length1":16,"length2":21},{"diffs":[[0," case \"N\":\n "],[1,"   //"],[0,"     directi"]],"start1":6037,"start2":6037,"length1":24,"length2":29},{"diffs":[[0,"on = \"NE\";\n "],[1,"   //"],[0,"     break;\n"]],"start1":6066,"start2":6066,"length1":24,"length2":29},{"diffs":[[0," //     break;\n "],[1,"   //"],[0,"   case \"NE\":\n  "]],"start1":6080,"start2":6080,"length1":32,"length2":37},{"diffs":[[0,"case \"NE\":\n "],[1,"   //"],[0,"     directi"]],"start1":6104,"start2":6104,"length1":24,"length2":29},{"diffs":[[0,"ion = \"E\";\n "],[1,"   //"],[0,"     break;\n"]],"start1":6132,"start2":6132,"length1":24,"length2":29},{"diffs":[[0," //     break;\n "],[1,"   //"],[0,"   case \"E\":\n   "]],"start1":6146,"start2":6146,"length1":32,"length2":37},{"diffs":[[0," case \"E\":\n "],[1,"   //"],[0,"     directi"]],"start1":6169,"start2":6169,"length1":24,"length2":29},{"diffs":[[0,"on = \"SE\";\n "],[1,"   //"],[0,"     break;\n"]],"start1":6198,"start2":6198,"length1":24,"length2":29},{"diffs":[[0," //     break;\n "],[1,"   //"],[0,"   case \"SE\":\n  "]],"start1":6212,"start2":6212,"length1":32,"length2":37},{"diffs":[[0,"ase \"SE\":\n  "],[1,"  //"],[0,"    "],[1," "],[0,"direction = "]],"start1":6237,"start2":6237,"length1":28,"length2":33},{"diffs":[[0,"ion = \"S\";\n "],[1,"   //"],[0,"     break;\n"]],"start1":6264,"start2":6264,"length1":24,"length2":29},{"diffs":[[0," //     break;\n "],[1,"   //"],[0,"   case \"S\":\n   "]],"start1":6278,"start2":6278,"length1":32,"length2":37},{"diffs":[[0,"ase \"S\":\n   "],[1," //"],[0,"   "],[1,"  "],[0,"direction = "]],"start1":6303,"start2":6303,"length1":27,"length2":32},{"diffs":[[0,"on = \"SW\";\n "],[1,"   //"],[0,"     break;\n"]],"start1":6330,"start2":6330,"length1":24,"length2":29},{"diffs":[[0," //     break;\n "],[1,"   //"],[0,"   case \"SW\":\n  "]],"start1":6344,"start2":6344,"length1":32,"length2":37},{"diffs":[[0,"case \"SW\":\n "],[1,"   //"],[0,"     directi"]],"start1":6368,"start2":6368,"length1":24,"length2":29},{"diffs":[[0," \"W\";\n  "],[1,"  //"],[0,"    "],[1," "],[0,"break;\n "],[1,"   //"],[0,"   case "]],"start1":6401,"start2":6401,"length1":28,"length2":38},{"diffs":[[0," case \"W\":\n "],[1,"   //"],[0,"     directi"]],"start1":6433,"start2":6433,"length1":24,"length2":29},{"diffs":[[0,"NW\";\n   "],[1," //"],[0,"   "],[1,"  "],[0,"break;\n "],[1,"   //"],[0,"   defau"]],"start1":6468,"start2":6468,"length1":27,"length2":37},{"diffs":[[0,"efault:\n"],[1,"    }\n  }\n  \n  function setTheStage(){\n    stage.add(layer);\n  }\n  \n  return {\n    createCenter : placeTextAtRandom,\n    animate:  animateObjects\n"],[0,"  }\n}\n\nf"]],"start1":6501,"start2":6501,"length1":16,"length2":162}]],"length":7666,"saved":false}
{"ts":1366823647990,"patch":[[{"diffs":[[0,"er);\n}\n\n"],[-1,"\n\n"],[0,"function"]],"start1":1830,"start2":1830,"length1":18,"length2":16},{"diffs":[[0,"\n}\n\n"],[-1,"function randomTextPlacement(audioText, stage){\n  var randomX = Math.floor((Math.random()*stage.getWidth())+1);\n  var randomY = Math.floor((Math.random()*stage.getHeight())+1);\n  console.log(\"RandomX: \" + randomX);\n  console.log(\"RandomY: \" + randomY);\n\n  //determine random x,y for text \n  var randomAudioText = new Kinetic.Text({\n    x: randomX,\n    y: randomY,\n    text: audioText,\n    fontSize: 38,\n    fontFamily: 'Calibri',\n    fill: get_random_color(),\n  });\n  return randomAudioText;\n}\n\n"],[0,"func"]],"start1":2502,"start2":2502,"length1":503,"length2":8},{"diffs":[[0,"    "],[-1,"//Cleanup\n    //Clockwise"],[1,"\n  }"],[0,"\n  "],[1,"\n"],[0,"  "],[-1,"//use trigonometry\n    // switch(direction){\n    //   case \"N\":\n    //     direction = \"NE\";\n    //     break;\n    //   case \"NE\":\n    //     direction = \"E\";\n    //     break;\n    //   case \"E\":\n    //     direction = \"SE\";\n    //     break;\n    //   case \"SE\":\n    //     direction = \"S\";\n    //     break;\n    //   case \"S\":\n    //     direction = \"SW\";\n    //     break;\n    //   case \"SW\":\n    //     direction = \"W\";\n    //     break;\n "],[1,"function randomTextPlacement(audioText, stage){\n    var randomX = Math.floor((Math.random()*stage.getWidth())+1);\n    var randomY = Math.floor((Math.random()*stage.getHeight())+1);\n    console.log(\"RandomX: \" + randomX);\n    console.log(\"RandomY: \" + randomY);\n  \n    //determine random x,y for text \n    var randomAudioText = new Kinetic.Text({\n      x: randomX,\n      y: randomY,\n      text: audioText,\n      fontSize: 38,\n"],[0,"   "],[-1,"//"],[0,"   "],[-1,"case \"W\":\n    //     direction = \"NW\";\n    //     break;\n    //   default:\n    }"],[1,"fontFamily: 'Calibri',\n      fill: get_random_color(),\n    });\n    return randomAudioText;"],[0,"\n  }"]],"start1":5453,"start2":5453,"length1":568,"length2":539},{"diffs":[[0,"Random,\n"],[-1,""],[0,"    anim"]],"start1":6092,"start2":6092,"length1":16,"length2":16},{"diffs":[[0,"eObjects"],[1,",\n    stage:  setTheStage,\n    createRandom: randomTextPlacement"],[0,"\n  }\n}\n\n"]],"start1":6120,"start2":6120,"length1":16,"length2":80}]],"length":7204,"saved":false}
{"ts":1366823702156,"patch":[[{"diffs":[[0,"\";\n\n"],[-1,"var stage = new Kinetic.Stage({\n  container: 'container',\n  width: window.innerWidth,\n  height: window.innerHeight\n});\n\n"],[0,"func"]],"start1":120,"start2":120,"length1":128,"length2":8},{"diffs":[[0,"unction(){\n\n"],[1,"  var stage = new Kinetic.Stage({\n    container: 'container',\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n  \n"],[0,"  var layer "]],"start1":4787,"start2":4787,"length1":24,"length2":156},{"diffs":[[0,"udioText"],[-1,", stage"],[0,"){\n    v"]],"start1":5509,"start2":5509,"length1":23,"length2":16}]],"length":7209,"saved":false}
{"ts":1366824150089,"patch":[[{"diffs":[[0,"var "],[-1,"TextAnimation"],[1,"CanvasController"],[0," = f"]],"start1":4766,"start2":4766,"length1":21,"length2":24},{"diffs":[[0,"tion(){\n"],[1,"  "],[0,"\n  var s"]],"start1":4793,"start2":4793,"length1":16,"length2":18},{"diffs":[[0,"ht\n  });\n  \n"],[-1,""],[0,"  var layer "]],"start1":4924,"start2":4924,"length1":24,"length2":24},{"diffs":[[0,"Layer();\n  \n"],[1,"  var textAnimations = [];\n  \n  function createText(text){\n    var textAnimation = new TextAnimation(text);\n    return textAnimation;\n  }\n  \n  return{\n    layer: layer,\n    createText : createText\n  }\n}\n\nvar TextAnimation = function(){\n  \n"],[0,"  function a"]],"start1":4962,"start2":4962,"length1":24,"length2":263}]],"length":7453,"saved":false}
{"ts":1366824587000,"patch":[[{"diffs":[[0,"tion(text);\n"],[1,"    layer.add(textAnimation);\n"],[0,"    return t"]],"start1":5070,"start2":5070,"length1":24,"length2":54}]],"length":7483,"saved":false}
{"ts":1366824750740,"patch":[[{"diffs":[[0,"imation;\n  }\n  \n"],[1,"  function stage(){\n    stage.add(layer);\n  }\n  \n"],[0,"  return{\n    la"]],"start1":5129,"start2":5129,"length1":32,"length2":81},{"diffs":[[0,"eateText"],[1,",\n    setStage: stage"],[0,"\n  }\n}\n\n"]],"start1":5241,"start2":5241,"length1":16,"length2":37},{"diffs":[[0,"\n  \n"],[-1,"  function setTheStage(){\n    stage.add(layer);\n  }\n"],[0,"  \n "]],"start1":6341,"start2":6341,"length1":60,"length2":8}]],"length":7501,"saved":false}
{"ts":1366824787396,"patch":[[{"diffs":[[0,"ject"],[-1,"s,\n    stage:  setTheStage"],[0,",\n  "]],"start1":6420,"start2":6420,"length1":34,"length2":8}]],"length":7475,"saved":false}
{"ts":1366824816486,"patch":[[{"diffs":[[0,"Random,\n    "],[1,"//"],[0,"animate:  an"]],"start1":6389,"start2":6389,"length1":24,"length2":26}]],"length":7477,"saved":false}
{"ts":1366824958348,"patch":[[{"diffs":[[0,"nction s"],[1,"etS"],[0,"tage(){\n"]],"start1":5149,"start2":5149,"length1":16,"length2":19},{"diffs":[[0,"Stage: s"],[1,"etS"],[0,"tage\n  }"]],"start1":5261,"start2":5261,"length1":16,"length2":19}]],"length":7483,"saved":false}
{"ts":1366825032553,"patch":[[{"diffs":[[0,"ation);\n"],[1,"    stage.add(textAnimation);\n"],[0,"    retu"]],"start1":5104,"start2":5104,"length1":16,"length2":46}]],"length":7513,"saved":false}
{"ts":1366825375158,"patch":[[{"diffs":[[0,"t);\n    "],[-1,"layer.add"],[1,"addObjectToLayer"],[0,"(textAni"]],"start1":5078,"start2":5078,"length1":25,"length2":32},{"diffs":[[0,"n);\n    "],[-1,"stage.add("],[1,"return "],[0,"textAnim"]],"start1":5115,"start2":5115,"length1":26,"length2":23},{"diffs":[[0,"tion"],[-1,")"],[0,";\n  "],[-1,"  return textAnimation"],[1,"}\n  \n  \n  \n  function addObjectToLayer(context){\n    layer.add(context);\n    stage.add(layer)"],[0,";\n  "]],"start1":5139,"start2":5139,"length1":35,"length2":105}]],"length":7587,"saved":false}
{"ts":1366825379128,"patch":[[{"diffs":[[0,"\n  }\n  \n"],[-1,"  \n  \n"],[0,"  functi"]],"start1":5144,"start2":5144,"length1":22,"length2":16}]],"length":7581,"saved":false}
{"ts":1366825465007,"patch":[[{"diffs":[[0,"tion(text);\n"],[1,"    var context = textAnimation.randomTextPlacement(text);\n"],[0,"    addObjec"]],"start1":5070,"start2":5070,"length1":24,"length2":83},{"diffs":[[0,"ToLayer("],[1,"con"],[0,"text"],[-1,"Animation"],[0,");\n    r"]],"start1":5154,"start2":5154,"length1":29,"length2":23},{"diffs":[[0," return "],[1,"con"],[0,"text"],[-1,"Animation"],[0,";\n  }\n  "]],"start1":5175,"start2":5175,"length1":29,"length2":23}]],"length":7628,"saved":false}
{"ts":1366825498905,"patch":[[{"diffs":[[0,"imation."],[-1,"randomTextPlacement"],[1,"createRandom"],[0,"(text);\n"]],"start1":5106,"start2":5106,"length1":35,"length2":28}]],"length":7621,"saved":false}
{"ts":1366825786978,"patch":[[{"diffs":[[0,"imation("],[-1,"text"],[1,"stage"],[0,");\n    v"]],"start1":5067,"start2":5067,"length1":20,"length2":21},{"diffs":[[0," = function("],[-1,"){"],[1,"stage){\n  \n  this.stage = stage;"],[0,"\n  \n  functi"]],"start1":5440,"start2":5440,"length1":26,"length2":56},{"diffs":[[0,"nt(audioText"],[1,", x, y"],[0,"){\n    var r"]],"start1":6024,"start2":6024,"length1":24,"length2":30},{"diffs":[[0,"((Math.random()*"],[1,")"],[0,"stage.getWidth()"]],"start1":6073,"start2":6073,"length1":32,"length2":33},{"diffs":[[0,"tWidth()"],[-1,")"],[0,"+1);\n   "]],"start1":6098,"start2":6098,"length1":17,"length2":16}]],"length":7658,"saved":false}
{"ts":1366825981962,"patch":[[{"diffs":[[0,"andom()*"],[-1,")"],[1,"this."],[0,"stage.ge"]],"start1":6081,"start2":6081,"length1":17,"length2":21},{"diffs":[[0,"tWidth()"],[1,")"],[0,"+1);\n   "]],"start1":6102,"start2":6102,"length1":16,"length2":17},{"diffs":[[0,"andom()*"],[1,"this."],[0,"stage.ge"]],"start1":6152,"start2":6152,"length1":16,"length2":21}]],"length":7668,"saved":false}
{"ts":1366826040079,"patch":[[{"diffs":[[0,"r = function"],[1," CanvasController"],[0,"(){\n  \n  var"]],"start1":4785,"start2":4785,"length1":24,"length2":41},{"diffs":[[0,"n = function"],[1," TextAnimation"],[0,"(stage){\n  \n"]],"start1":5456,"start2":5456,"length1":24,"length2":38}]],"length":7699,"saved":false}
{"ts":1366828779796,"patch":[[{"diffs":[[0,"height: "],[1,"400 //"],[0,"window.i"]],"start1":4917,"start2":4917,"length1":16,"length2":22}]],"length":7697,"saved":false}
{"ts":1366828928438,"patch":[[{"diffs":[[0," width: "],[1," 800, //"],[0,"window.i"]],"start1":4886,"start2":4886,"length1":16,"length2":24}]],"length":7705,"saved":false}
{"ts":1366829718704,"patch":[[{"diffs":[[0,"width:  "],[-1,"8"],[1,"10"],[0,"00, //wi"]],"start1":4887,"start2":4887,"length1":17,"length2":18}]],"length":7706,"saved":false}
{"ts":1366829885525,"patch":[[{"diffs":[[0,"(layer);\n  }\n  \n"],[1,"  function fadeObject(object){\n    var opacity = 1;\n    var interval = setInterval(function(){\n      opacity = opacity -.25;\n      object.setOpacity(opacity);\n      layer.draw();\n      if(opacity === 0)\n        clearInterval(interval);\n    },1000);\n    \n  }\n  \n"],[0,"  function addRo"]],"start1":5380,"start2":5380,"length1":32,"length2":293}]],"length":7967,"saved":false}
{"ts":1366829947019,"patch":[[{"diffs":[[0,"ndom(text);\n"],[1,"    fadeObject(context);\n"],[0,"    addObjec"]],"start1":5155,"start2":5155,"length1":24,"length2":49}]],"length":7992,"saved":false}
{"ts":1366830170956,"patch":[[{"diffs":[[0,"city = opacity -"],[1,"0"],[0,".25;\n      objec"]],"start1":5525,"start2":5525,"length1":32,"length2":33}]],"length":7993,"saved":false}
{"ts":1366830184684,"patch":[[{"diffs":[[0,"xt);\n   "],[1,"//"],[0," fadeObj"]],"start1":5162,"start2":5162,"length1":16,"length2":18}]],"length":7995,"saved":false}
{"ts":1366831942744,"patch":[[{"diffs":[[0,"context.on('"],[1,"mousestart "],[0,"touchstart',"]],"start1":5725,"start2":5725,"length1":24,"length2":35},{"diffs":[[0,"t);\n    });\n"],[1,"    \n    context.on('mouseup touchend', function() {\n      console.log('touch up');\n      //rotateObject(context);\n    });\n"],[0,"  }\n  \n  fun"]],"start1":5829,"start2":5829,"length1":24,"length2":147}]],"length":8129,"saved":false}
{"ts":1366832548361,"patch":[[{"diffs":[[0,"   \n    \n  }\n  \n"],[1,"  function neonFont(){\n    var blur = 10;\n    var width = ctx.measureText(text).width + blur * 2;\n    \n    var ctx = new Kinetic.Text({\n      x: randomX,\n      y: randomY,\n      text: audioText,\n      fontSize: 38,\n      fontFamily: 'Calibri',\n      fill: get_random_color(),\n      textBaseline: 'top',\n      shadowColor: '#000',\n      shadowOffsetX: width,\n      shadowOffsetY: 0,\n      shadowBlur: blur,\n      //fillText(text, -width, 0)\n    });\n    \n  }\n  \n"],[0,"  function rando"]],"start1":6920,"start2":6920,"length1":32,"length2":492}]],"length":8589,"saved":false}
{"ts":1366832572305,"patch":[[{"diffs":[[0,"    });\n    "],[1,"return ctx;"],[0,"\n  }\n  \n  fu"]],"start1":7376,"start2":7376,"length1":24,"length2":35}]],"length":8600,"saved":false}
{"ts":1366832655015,"patch":[[{"diffs":[[0,"context;\n  }\n  \n"],[1,"  function createFinalText(text){\n    var textAnimation = new TextAnimation(stage);\n    var context = textAnimation.(text);\n   // fadeObject(context);\n    addObjectToLayer(context);\n    return context;\n  }\n  \n"],[0,"  function addOb"]],"start1":5236,"start2":5236,"length1":32,"length2":241},{"diffs":[[0,"enter : "],[-1,"placeTextCenterAndDrif"],[1,"neonFon"],[0,"t,\n    /"]],"start1":8173,"start2":8173,"length1":38,"length2":23}]],"length":8794,"saved":false}
{"ts":1366832682808,"patch":[[{"diffs":[[0,"imation."],[1,"createCenter"],[0,"(text);\n"]],"start1":5360,"start2":5360,"length1":16,"length2":28}]],"length":8806,"saved":false}
{"ts":1366832751573,"patch":[[{"diffs":[[0,"setStage"],[1,",\n    createFinal: createFinalText"],[0,"\n  }\n}\n\n"]],"start1":6554,"start2":6554,"length1":16,"length2":50}]],"length":8840,"saved":false}
{"ts":1366832884088,"patch":[[{"diffs":[[0,"eonFont("],[1,"audioText"],[0,"){\n    v"]],"start1":7203,"start2":7203,"length1":16,"length2":25},{"diffs":[[0," x: "],[-1,"randomX,\n      y: randomY"],[1,"_stage.getWidth() / 2,\n      y: _stage.getHeight() / 2"],[0,",\n  "]],"start1":7341,"start2":7341,"length1":33,"length2":62}]],"length":8878,"saved":false}
{"ts":1366832954132,"patch":[[{"diffs":[[0,"ffsetX: "],[-1,"w"],[1,"this.getW"],[0,"idth"],[1,"()"],[0,",\n      "]],"start1":7572,"start2":7572,"length1":21,"length2":31}]],"length":8888,"saved":false}
{"ts":1366832983287,"patch":[[{"diffs":[[0,"r = 10;\n    "],[1,"//"],[0,"var width = "]],"start1":7234,"start2":7234,"length1":24,"length2":26}]],"length":8890,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366891525382,"patch":[[{"diffs":[[0,"t){\n    "],[-1,"layer.add(context);"],[1,"addRotateEvent(context)\n    layer.add(context);\n    stage.add(layer);\n  }\n  \n  function setStage(){"],[0,"\n    sta"]],"start1":5507,"start2":5507,"length1":35,"length2":115},{"diffs":[[0," \n  "],[-1,"  \n    context.on('mouseup touchend', function() {\n      console.log('touch up');\n      //rotateObject(context);\n    });\n  }\n  \n  function setStage(){\n    stage.add(layer"],[1,"}\n  \n  function addRotateEvent(context){\n    context.on('mousestart touchstart', function() {\n      console.log('touched');\n      rotateObject(context);\n    });\n    \n    context.on('mouseup touchend', function() {\n      console.log('touch up');\n      //rotateObject(context);\n    });\n  }\n  \n  function rotateObject(text){\n    // one revolution per 4 seconds\n    var angularSpeed = Math.PI / 2;\n    var anim = new Kinetic.Animation(function(frame) {\n      var angleDiff = frame.timeDiff * angularSpeed / 1000;\n      text.rotate(angleDiff);\n    }, layer);\n  \n    anim.start("],[0,");\n "]],"start1":5897,"start2":5897,"length1":178,"length2":580},{"diffs":[[0,"){\n  \n  "],[-1,"this."],[1,"var _"],[0,"stage = "]],"start1":6652,"start2":6652,"length1":21,"length2":21},{"diffs":[[0,"ontext);"],[-1,"\n    \n "],[0,"   \n  }\n"]],"start1":7165,"start2":7165,"length1":23,"length2":16},{"diffs":[[0,"\n  \n"],[-1,"  function randomTextPlacement(audioText, x, y){\n    var randomX = Math.floor((Math.random()*this.stage.getWidth())+1);\n    var randomY = Math.floor((Math.random()*this.stage.getHeight())+1);\n    console.log(\"RandomX: \" + randomX);\n    console.log(\"RandomY: \" + randomY);\n  \n    //determine random x,y for text \n    var randomAudioText = new Kinetic.Text({\n      x: randomX,\n      y: randomY,\n      text: audioText,\n      fontSize: 38,\n      fontFamily: 'Calibri',\n      fill: get_random_color(),\n    });\n  "],[0,"  fu"]],"start1":7180,"start2":7180,"length1":515,"length2":8},{"diffs":[[0," \n  "],[-1,"retur"],[1,"functio"],[0,"n random"],[-1,"AudioText;\n  }\n  \n  \n  return {\n    createCenter : placeTextAtRandom,\n    //animate:  animateObject,\n    createRandom: randomTextPlacement\n  }\n}\n\nfunction placeTextAtRandom(text){\n\n  var randomAudioText = randomTextPlacement(text, layer);\n  animateText(randomAudioText);\n  //rotateObject(randomAudioText, layer);\n  //moveObject(randomAudioText, layer);\n  fadeObject(randomAudioText);\n  //stage.add(layer);\n}\n\nfunction writeMessage(messageLayer, message) {\n  var context = messageLayer.getCont"],[1,"TextPlacement(audioText, x, y){\n    var randomX = Math.floor((Math.random()*_stage.getWidth())+1);\n    var randomY = Math.floor((Math.random()*_stage.getHeight())+1);\n    console.log(\"RandomX: \" + randomX);\n    console.log(\"RandomY: \" + randomY);\n  \n    //determine random x,y for text \n    var randomAudioText = new Kinetic.T"],[0,"ext("],[-1,");\n  messageLayer.clear();\n  context.font = '18pt Calibri';\n  context.fillStyle = 'black';\n  context.fillText(message, 10, 25);\n}\n\nfunction rotateObject(text, layer){\n  // one revolution per 4 seconds\n  var angularSpeed = Math.PI / 2;\n  var anim = new Kinetic.Animation(function(frame) {\n    var angleDiff = frame.timeDiff * angularSpeed / 1000;\n    text.rotate(angleDiff);\n  }, layer);\n\n  anim.start();\n}\n\nvar messageLayer = new Kinetic.Layer();\n\nfunction addRotateEvent(context, layer){\n  context.on('touchstart', function() {\n    console.log('touched');\n    rotateObject(context, layer);\n    writeMessage(messageLayer, 'Touchstart circle');\n  });\n}"],[1,"{\n      x: randomX,\n      y: randomY,\n      text: audioText,\n      fontSize: 38,\n      fontFamily: 'Calibri',\n      fill: get_random_color(),\n    });\n    return randomAudioText;\n  }\n  \n  \n  return {\n    createCenter : neonFont,\n    //animate:  animateObject,\n    createRandom: randomTextPlacement\n  }\n}\n\n"],[0,"\n\n\n"]],"start1":7703,"start2":7703,"length1":1167,"length2":656}]],"length":8359,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366911991601,"patch":[[{"diffs":[[0,"tX: "],[-1,"this.getWidth()"],[1,"10"],[0,",\n  "]],"start1":7571,"start2":7571,"length1":23,"length2":10}]],"length":8346,"saved":false}
{"ts":1366912103195,"patch":[[{"diffs":[[0,"      fontSize: "],[-1,"3"],[1,"6"],[0,"8,\n      fontFam"]],"start1":7419,"start2":7419,"length1":33,"length2":33}]],"length":8346,"saved":false}
{"ts":1366912134347,"patch":[[{"diffs":[[0,"ze: "],[-1,"68"],[1,"100"],[0,",\n  "]],"start1":7431,"start2":7431,"length1":10,"length2":11}]],"length":8347,"saved":false}
{"ts":1366912381997,"patch":[[{"diffs":[[0,"ion "],[-1,"r"],[1,"R"],[0,"andom"],[-1,"TextPlacement(audioText, x, y"],[1,"X("],[0,"){\n "]],"start1":7700,"start2":7700,"length1":43,"length2":16},{"diffs":[[0,"idth())+1);\n"],[1,"  }\n  \n  function RandomY(){\n"],[0,"    var rand"]],"start1":7770,"start2":7770,"length1":24,"length2":53},{"diffs":[[0,"())+1);\n"],[1,"  }\n  \n  function randomTextPlacement(audioText, x, y){\n    \n"],[0,"    cons"]],"start1":7871,"start2":7871,"length1":16,"length2":77}]],"length":8410,"saved":false}
{"ts":1366912620880,"patch":[[{"diffs":[[0," x: "],[-1,"_stage.getWidth() / 2,\n      y: _stage.getHeight() / 2"],[1,"randomX(),\n      y: randomY()"],[0,",\n  "]],"start1":7336,"start2":7336,"length1":62,"length2":37},{"diffs":[[0,"y){\n"],[-1,"    \n    console.log(\"RandomX: \" + randomX);\n    console.log(\"RandomY: \" + randomY);\n  \n"],[0,"    "]],"start1":7906,"start2":7906,"length1":96,"length2":8},{"diffs":[[0,"r text \n"],[1,""],[0,"    var "]],"start1":7939,"start2":7939,"length1":16,"length2":16},{"diffs":[[0," randomX"],[1,"()"],[0,",\n      "]],"start1":8000,"start2":8000,"length1":16,"length2":18},{"diffs":[[0," randomY"],[1,"()"],[0,",\n      "]],"start1":8020,"start2":8020,"length1":16,"length2":18}]],"length":8301,"saved":false}
{"ts":1366912641320,"patch":[[{"diffs":[[0,"\n  function "],[-1,"R"],[1,"r"],[0,"andomX(){\n  "]],"start1":7667,"start2":7667,"length1":25,"length2":25},{"diffs":[[0,"unction "],[-1,"R"],[1,"r"],[0,"andomY()"]],"start1":7767,"start2":7767,"length1":17,"length2":17}]],"length":8301,"saved":false}
{"ts":1366912760860,"patch":[[{"diffs":[[0,"\n}\n\n"],[-1,"function fadeObject(object){\n  var layer = new Kinetic.Layer();\n  \n  var opacity = 1;\n  var interval = setInterval(function(){\n    opacity = opacity -.25;\n    object.setOpacity(opacity);\n    layer.draw();\n    if(opacity === 0)\n      clearInterval(interval);\n  },1000);\n  \n  layer.add(object);\n  stage.add(layer);\n}\n\n"],[0,"func"]],"start1":2066,"start2":2066,"length1":324,"length2":8},{"diffs":[[0,"pacity -"],[-1,"0"],[0,".25;\n   "]],"start1":5440,"start2":5440,"length1":17,"length2":16},{"diffs":[[0,",1000);\n"],[-1,"    \n"],[0,"  }\n  \n "]],"start1":5569,"start2":5569,"length1":21,"length2":16}]],"length":7979,"saved":false}
{"ts":1366912772321,"patch":[[{"diffs":[[0,"enter(text);\n   "],[-1,"//"],[0," fadeObject(cont"]],"start1":5059,"start2":5059,"length1":34,"length2":32}]],"length":7977,"saved":false}
{"ts":1366912906617,"patch":[[{"diffs":[[0,"ion createTe"],[1,"mporaryTe"],[0,"xt(text){\n  "]],"start1":4727,"start2":4727,"length1":24,"length2":33},{"diffs":[[0,"xt);\n   "],[-1,"//"],[0," fadeObj"]],"start1":4855,"start2":4855,"length1":18,"length2":16},{"diffs":[[0,"t);\n    "],[-1,"fadeObject(context);"],[0,"\n    add"]],"start1":5075,"start2":5075,"length1":36,"length2":16},{"diffs":[[0,"createTe"],[1,"mporaryTe"],[0,"xt,\n    "]],"start1":6191,"start2":6191,"length1":16,"length2":25}]],"length":7973,"saved":false}
{"ts":1366913051995,"patch":[[{"diffs":[[0,"getWidth())+1);\n"],[1,"    return randomX;\n"],[0,"  }\n  \n  functio"]],"start1":7413,"start2":7413,"length1":32,"length2":52},{"diffs":[[0,"())+1);\n"],[1,"    return randomY;\n"],[0,"  }\n  \n "]],"start1":7538,"start2":7538,"length1":16,"length2":36}]],"length":8013,"saved":false}
{"ts":1366913112814,"patch":[[{"diffs":[[0,"randomX("],[1,"object"],[0,"){\n    v"]],"start1":7351,"start2":7351,"length1":16,"length2":22},{"diffs":[[0,"     x: randomX("],[1,"this"],[0,"),\n      y: rand"]],"start1":7711,"start2":7711,"length1":32,"length2":36}]],"length":8023,"saved":false}
{"ts":1366913732621,"patch":[[{"diffs":[[0,"randomX("],[-1,"object"],[0,""],[1,""],[0,"){\n    v"]],"start1":7351,"start2":7351,"length1":22,"length2":16},{"diffs":[[0,"or text "],[1," \n    \n    //If the text is larger than the viewspace push the value into visibility:   \n    //if((randomX + getTextWidth()) > maxWidth)\n    //this should ensure that the text is visible, unless it is larger than the canvas\n    "],[0,"\n    var"]],"start1":7650,"start2":7650,"length1":16,"length2":244},{"diffs":[[0,"randomX("],[-1,"this"],[1,") - getTextWidth("],[0,"),\n     "]],"start1":7941,"start2":7941,"length1":20,"length2":33},{"diffs":[[0,"    y: randomY()"],[1," - getTextHeight()"],[0,",\n      text: au"]],"start1":7971,"start2":7971,"length1":32,"length2":50}]],"length":8276,"saved":false}
{"ts":1366913821579,"patch":[[{"diffs":[[0,"andomX()"],[-1," "],[1,", //"],[0,"- getTex"]],"start1":7942,"start2":7942,"length1":17,"length2":20},{"diffs":[[0,"andomY()"],[-1," "],[1,", //"],[0,"- getTex"]],"start1":7982,"start2":7982,"length1":17,"length2":20}]],"length":8282,"saved":false}
{"ts":1366913975916,"patch":[[{"diffs":[[0,"andomX()"],[1," - width,"],[0,", //- ge"]],"start1":7942,"start2":7942,"length1":16,"length2":25},{"diffs":[[0,"andomY()"],[1," - height"],[0,", //- ge"]],"start1":7991,"start2":7991,"length1":16,"length2":25}]],"length":8300,"saved":false}
{"ts":1366913992550,"patch":[[{"diffs":[[0,"- width,"],[-1,","],[0," //- get"]],"start1":7951,"start2":7951,"length1":17,"length2":16}]],"length":8299,"saved":false}
{"ts":1366914021003,"patch":[[{"diffs":[[0,"mX()"],[-1," - width"],[0,", //"]],"start1":7946,"start2":7946,"length1":16,"length2":8},{"diffs":[[0,"mY()"],[-1," - height"],[0,", //"]],"start1":7986,"start2":7986,"length1":17,"length2":8}]],"length":8282,"saved":false}
{"ts":1366914065047,"patch":[[{"diffs":[[0,"\n}\n\n"],[-1,"function moveObject(text, layer){\n   var layer = new Kinetic.Layer();\n  var amplitude = 150;\n  var period = 2000;\n  // in ms\n  var centerX = stage.getWidth() / 2;\n\n  var anim = new Kinetic.Animation(function(frame) {\n    text.setX(amplitude * Math.sin(frame.time * 2 * Math.PI / period) + centerX);\n  }, layer);\n\n  anim.start();\n  stage.add(layer);\n}\n\n"],[0,"func"]],"start1":1714,"start2":1714,"length1":360,"length2":8},{"diffs":[[0,"},1000);\n  }\n  \n"],[1,"  function moveObject(text, layer){\n    var amplitude = 150;\n    var period = 2000;\n    // in ms\n    var centerX = stage.getWidth() / 2;\n  \n    var anim = new Kinetic.Animation(function(frame) {\n      text.setX(amplitude * Math.sin(frame.time * 2 * Math.PI / period) + centerX);\n    }, layer);\n  \n    anim.start();\n  }\n  \n"],[0,"  function addRo"]],"start1":5201,"start2":5201,"length1":32,"length2":354}]],"length":8252,"saved":false}
{"ts":1366914127646,"patch":[[{"diffs":[[0,"(text);\n    "],[1,"moveObject(text);"],[0,"\n    addObje"]],"start1":4719,"start2":4719,"length1":24,"length2":41},{"diffs":[[0,"context)"],[1,";"],[0,"\n    lay"]],"start1":4864,"start2":4864,"length1":16,"length2":17}]],"length":8270,"saved":false}
{"ts":1366914178653,"patch":[[{"diffs":[[0," moveObject("],[1,"con"],[0,"text);\n    a"]],"start1":4730,"start2":4730,"length1":24,"length2":27},{"diffs":[[0,"ect(text"],[-1,", layer"],[0,"){\n    v"]],"start1":5256,"start2":5256,"length1":23,"length2":16}]],"length":8266,"saved":false}
{"ts":1366915034136,"patch":[[{"diffs":[[0,"ext);   \n  }\n  \n"],[1,"  function scaleText(text){\n    var anim = new Kinetic.Animation(function(frame) {\n        var scale = frame.time + .25;\n        //Universal oscillator\n        //Math.sin(frame.time * 2 * Math.PI / period) + 0.001;\n        // scale x and y\n        layer.setScale(scale);\n        // scale only y\n        //yellowHex.setScale(1, scale);\n        // scale only x\n        //redHex.setScale(scale, 1);\n      }, layer);\n  }\n  \n"],[0,"  function neonF"]],"start1":6824,"start2":6824,"length1":32,"length2":452}]],"length":8686,"saved":false}
{"ts":1366915114201,"patch":[[{"diffs":[[0,"(text);\n    "],[1,"//"],[0,"moveObject(c"]],"start1":4719,"start2":4719,"length1":24,"length2":26},{"diffs":[[0,"bject(context);\n"],[1,"    scaleText(text);\n"],[0,"    addObjectToL"]],"start1":4738,"start2":4738,"length1":32,"length2":53},{"diffs":[[0,"},1000);\n  }\n  \n"],[1,"  function scaleText(context){\n    var anim = new Kinetic.Animation(function(frame) {\n        var scale = frame.time + .25;\n        //Universal oscillator\n        //Math.sin(frame.time * 2 * Math.PI / period) + 0.001;\n        // scale x and y\n        context.setScale(scale);\n        // scale only y\n        //yellowHex.setScale(1, scale);\n        // scale only x\n        //redHex.setScale(scale, 1);\n      }, layer);\n  }\n  \n"],[0,"  function moveO"]],"start1":5245,"start2":5245,"length1":32,"length2":457},{"diffs":[[0,"\n  \n"],[-1,"  function scaleText(text){\n    var anim = new Kinetic.Animation(function(frame) {\n        var scale = frame.time + .25;\n        //Universal oscillator\n        //Math.sin(frame.time * 2 * Math.PI / period) + 0.001;\n        // scale x and y\n        layer.setScale(scale);\n        // scale only y\n        //yellowHex.setScale(1, scale);\n        // scale only x\n        //redHex.setScale(scale, 1);\n      }, layer);\n  }\n  \n"],[0,"  fu"]],"start1":7284,"start2":7284,"length1":428,"length2":8}]],"length":8714,"saved":false}
{"ts":1366915124410,"patch":[[{"diffs":[[0,"  scaleText("],[1,"con"],[0,"text);\n    a"]],"start1":4756,"start2":4756,"length1":24,"length2":27}]],"length":8717,"saved":false}
{"ts":1366915162736,"patch":[[{"diffs":[[0,"e = "],[-1,"frame.time + .25;\n        //Universal oscillator\n        //"],[0,"Math"]],"start1":5366,"start2":5366,"length1":67,"length2":8}]],"length":8658,"saved":false}
{"ts":1366915232293,"patch":[[{"diffs":[[0,"t(context){\n"],[1,"    var period = 2000;\n    \n"],[0,"    var anim"]],"start1":5283,"start2":5283,"length1":24,"length2":52}]],"length":8686,"saved":false}
{"ts":1366915357897,"patch":[[{"diffs":[[0," -width, 0)\n"],[1,"      draggable: true\n"],[0,"    });\n    "]],"start1":7701,"start2":7701,"length1":24,"length2":46}]],"length":8708,"saved":false}
{"ts":1366917364853,"patch":[[{"diffs":[[0,"\n}\n\n"],[-1,"var CanvasController = function CanvasController(){\n  \n  var stage = new Kinetic.Stage({\n    container: 'container',\n    width:  1000, //window.innerWidth,\n    height: 400 //window.innerHeight\n  });\n  \n  var layer = new Kinetic.Layer();\n  \n  var textAnimations = [];\n  \n  function createTemporaryText(text){\n    var textAnimation = new TextAnimation(stage);\n    var context = textAnimation.createRandom(text);\n    fadeObject(context);\n    addObjectToLayer(context);\n    return context;\n  }\n  \n  function createFinalText(text){\n    var textAnimation = new TextAnimation(stage);\n    var context = textAnimation.createCenter(text);\n    //moveObject(context);\n    scaleText(context);\n    addObjectToLayer(context);\n    return context;\n  }\n  \n  function addObjectToLayer(context){\n    addRotateEvent(context);\n    layer.add(context);\n    stage.add(layer);\n  }\n  \n  function setStage(){\n    stage.add(layer);\n  }\n  \n  function fadeObject(object){\n    var opacity = 1;\n    var interval = setInterval(function(){\n      opacity = opacity -.25;\n      object.setOpacity(opacity);\n      layer.draw();\n      if(opacity === 0)\n        clearInterval(interval);\n    },1000);\n  }\n  \n  function scaleText(context){\n    var period = 2000;\n    \n    var anim = new Kinetic.Animation(function(frame) {\n        var scale = Math.sin(frame.time * 2 * Math.PI / period) + 0.001;\n        // scale x and y\n        context.setScale(scale);\n        // scale only y\n        //yellowHex.setScale(1, scale);\n        // scale only x\n        //redHex.setScale(scale, 1);\n      }, layer);\n  }\n  \n  function moveObject(text){\n    var amplitude = 150;\n    var period = 2000;\n    // in ms\n    var centerX = stage.getWidth() / 2;\n  \n    var anim = new Kinetic.Animation(function(frame) {\n      text.setX(amplitude * Math.sin(frame.time * 2 * Math.PI / period) + centerX);\n    }, layer);\n  \n    anim.start();\n  }\n  \n  function addRotateEvent(context){\n    context.on('mousestart touchstart', function() {\n      console.log('touched');\n      rotateObject(context);\n    });\n    \n    context.on('mouseup touchend', function() {\n      console.log('touch up');\n      //rotateObject(context);\n    });\n  }\n  \n  function rotateObject(text){\n    // one revolution per 4 seconds\n    var angularSpeed = Math.PI / 2;\n    var anim = new Kinetic.Animation(function(frame) {\n      var angleDiff = frame.timeDiff * angularSpeed / 1000;\n      text.rotate(angleDiff);\n    }, layer);\n  \n    anim.start();\n  }\n  \n  return{\n    layer: layer,\n    createText : createTemporaryText,\n    setStage: setStage,\n    createFinal: createFinalText\n  }\n}\n\n"],[0,"var "]],"start1":4094,"start2":4094,"length1":2590,"length2":8}]],"length":6126,"saved":false}
{"contributors":[],"silentsave":false,"ts":1367284683975,"patch":[[{"diffs":[[0,"\n}\n\n"],[-1,"//http://stackoverflow.com/questions/1484506/random-color-generator-in-javascript\nfunction get_random_color() {\n    var letters = '0123456789ABCDEF'.split('');\n    var color = '#';\n    for (var i = 0; i < 6; i++ ) {\n        color += letters[Math.round(Math.random() * 15)];\n    }\n    return color;\n}\n\n"],[0,"func"]],"start1":1105,"start2":1105,"length1":309,"length2":8},{"diffs":[[0,"i',\n      fill: "],[1,"Effects."],[0,"get_random_color"]],"start1":4633,"start2":4633,"length1":32,"length2":40},{"diffs":[[0,"om_color(),\n"],[-1,""],[0,"      textBa"]],"start1":4665,"start2":4665,"length1":24,"length2":24},{"diffs":[[0,"le: true"],[1,",\n      offset: Effects.get_random_offset()"],[0,"\n    });"]],"start1":4851,"start2":4851,"length1":16,"length2":59},{"diffs":[[0," text  \n"],[-1,"    \n"],[0,"    //If"]],"start1":5246,"start2":5246,"length1":21,"length2":16},{"diffs":[[0,"ily: 'Calibri',\n"],[-1,""],[0,"      fill: get_"]],"start1":5658,"start2":5658,"length1":32,"length2":32},{"diffs":[[0,"i',\n      fill: "],[1,"Effects."],[0,"get_random_color"]],"start1":5670,"start2":5670,"length1":32,"length2":40}]],"length":5879,"saved":false}
